"use strict";(self.webpackChunkreifydb_docs=self.webpackChunkreifydb_docs||[]).push([[7147],{7147:(e,n,t)=>{var r;t.d(n,{TW:()=>Ae,YZ:()=>Pe,Zk:()=>p});var o=t(9729);const a=(0,o.createContext)(null);a.displayName="PanelGroupContext";const l={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},i=o.useLayoutEffect,u=(r||(r=t.t(o,2)))["useId".toString()],s="function"==typeof u?u:()=>null;let c=0;function d(e=null){const n=s(),t=(0,o.useRef)(e||n||null);return null===t.current&&(t.current=""+c++),null!=e?e:t.current}function f({children:e,className:n="",collapsedSize:t,collapsible:r,defaultSize:u,forwardedRef:s,id:c,maxSize:f,minSize:p,onCollapse:g,onExpand:m,onResize:y,order:h,style:v,tagName:z="div",...b}){const x=(0,o.useContext)(a);if(null===x)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:S,expandPanel:w,getPanelSize:I,getPanelStyle:C,groupId:P,isPanelCollapsed:E,reevaluatePanelConstraints:k,registerPanel:A,resizePanel:D,unregisterPanel:R}=x,L=d(c),M=(0,o.useRef)({callbacks:{onCollapse:g,onExpand:m,onResize:y},constraints:{collapsedSize:t,collapsible:r,defaultSize:u,maxSize:f,minSize:p},id:L,idIsFromProps:void 0!==c,order:h});(0,o.useRef)({didLogMissingDefaultSizeWarning:!1}),i(()=>{const{callbacks:e,constraints:n}=M.current,o={...n};M.current.id=L,M.current.idIsFromProps=void 0!==c,M.current.order=h,e.onCollapse=g,e.onExpand=m,e.onResize=y,n.collapsedSize=t,n.collapsible=r,n.defaultSize=u,n.maxSize=f,n.minSize=p,o.collapsedSize===n.collapsedSize&&o.collapsible===n.collapsible&&o.maxSize===n.maxSize&&o.minSize===n.minSize||k(M.current,o)}),i(()=>{const e=M.current;return A(e),()=>{R(e)}},[h,L,A,R]),(0,o.useImperativeHandle)(s,()=>({collapse:()=>{S(M.current)},expand:e=>{w(M.current,e)},getId:()=>L,getSize:()=>I(M.current),isCollapsed:()=>E(M.current),isExpanded:()=>!E(M.current),resize:e=>{D(M.current,e)}}),[S,w,I,E,L,D]);const $=C(M.current,u);return(0,o.createElement)(z,{...b,children:e,className:n,id:L,style:{...$,...v},[l.groupId]:P,[l.panel]:"",[l.panelCollapsible]:r||void 0,[l.panelId]:L,[l.panelSize]:parseFloat(""+$.flexGrow).toFixed(1)})}const p=(0,o.forwardRef)((e,n)=>(0,o.createElement)(f,{...e,forwardedRef:n}));let g;function m(){return g}f.displayName="Panel",p.displayName="forwardRef(Panel)";let y=null,h=!0,v=null,z=-1,b=null;function x(e,n,t){var r,o;if(!h)return;const a=function(e,n,t){const r=0!==(n&M),o=0!==(n&$),a=0!==(n&N),l=0!==(n&H);if(v)return v({exceedsHorizontalMaximum:o,exceedsHorizontalMinimum:r,exceedsVerticalMaximum:l,exceedsVerticalMinimum:a,intersectsHorizontalDragHandle:"horizontal"===e||"intersection"===e,intersectsVerticalDragHandle:"vertical"===e||"intersection"===e,isPointerDown:t});if(n){if(r)return a?"se-resize":l?"ne-resize":"e-resize";if(o)return a?"sw-resize":l?"nw-resize":"w-resize";if(a)return"s-resize";if(l)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}(e,n,t);if(y!==a){if(y=a,null===b){b=document.createElement("style");const e=m();e&&b.setAttribute("nonce",e),document.head.appendChild(b)}var l;if(z>=0)null===(l=b.sheet)||void 0===l||l.removeRule(z);z=null!==(r=null===(o=b.sheet)||void 0===o?void 0:o.insertRule(`*{cursor: ${a} !important;}`))&&void 0!==r?r:-1}}function S(e){return"keydown"===e.type}function w(e){return e.type.startsWith("pointer")}function I(e){return e.type.startsWith("mouse")}function C(e){if(w(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(I(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function P(e,n,t){return t?e.x<n.x+n.width&&e.x+e.width>n.x&&e.y<n.y+n.height&&e.y+e.height>n.y:e.x<=n.x+n.width&&e.x+e.width>=n.x&&e.y<=n.y+n.height&&e.y+e.height>=n.y}const E=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function k(e){const n=getComputedStyle(e);return"fixed"===n.position||(!("auto"===n.zIndex||"static"===n.position&&!function(e){var n;const t=getComputedStyle(null!==(n=L(e))&&void 0!==n?n:e).display;return"flex"===t||"inline-flex"===t}(e))||(+n.opacity<1||("transform"in n&&"none"!==n.transform||("webkitTransform"in n&&"none"!==n.webkitTransform||("mixBlendMode"in n&&"normal"!==n.mixBlendMode||("filter"in n&&"none"!==n.filter||("webkitFilter"in n&&"none"!==n.webkitFilter||("isolation"in n&&"isolate"===n.isolation||(!!E.test(n.willChange)||"touch"===n.webkitOverflowScrolling)))))))))}function A(e){let n=e.length;for(;n--;){const t=e[n];if(Q(t,"Missing node"),k(t))return t}return null}function D(e){return e&&Number(getComputedStyle(e).zIndex)||0}function R(e){const n=[];for(;e;)n.push(e),e=L(e);return n}function L(e){const{parentNode:n}=e;return n&&n instanceof ShadowRoot?n.host:n}const M=1,$=2,N=4,H=8,F="coarse"===function(){if("function"==typeof matchMedia)return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}();let G=[],B=!1,O=new Map,T=new Map;const V=new Set;function W(e){const{target:n}=e,{x:t,y:r}=C(e);B=!0,q({target:n,x:t,y:r}),Z(),G.length>0&&(_("down",e),K(),e.preventDefault(),J(n)||e.stopImmediatePropagation())}function j(e){const{x:n,y:t}=C(e);if(B&&0===e.buttons&&(B=!1,_("up",e)),!B){const{target:r}=e;q({target:r,x:n,y:t})}_("move",e),K(),G.length>0&&e.preventDefault()}function U(e){const{target:n}=e,{x:t,y:r}=C(e);T.clear(),B=!1,G.length>0&&(e.preventDefault(),J(n)||e.stopImmediatePropagation()),_("up",e),q({target:n,x:t,y:r}),K(),Z()}function J(e){let n=e;for(;n;){if(n.hasAttribute(l.resizeHandle))return!0;n=n.parentElement}return!1}function q({target:e,x:n,y:t}){G.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),V.forEach(e=>{const{element:o,hitAreaMargins:a}=e,l=o.getBoundingClientRect(),{bottom:i,left:u,right:s,top:c}=l,d=F?a.coarse:a.fine;if(n>=u-d&&n<=s+d&&t>=c-d&&t<=i+d){if(null!==r&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&function(e,n){if(e===n)throw new Error("Cannot compare node with itself");const t={a:R(e),b:R(n)};let r;for(;t.a.at(-1)===t.b.at(-1);)e=t.a.pop(),n=t.b.pop(),r=e;Q(r,"Stacking order can only be calculated for elements with a common ancestor");const o=D(A(t.a)),a=D(A(t.b));if(o===a){const e=r.childNodes,n={a:t.a.at(-1),b:t.b.at(-1)};let o=e.length;for(;o--;){const t=e[o];if(t===n.a)return 1;if(t===n.b)return-1}}return Math.sign(o-a)}(r,o)>0){let e=r,n=!1;for(;e&&!e.contains(o);){if(P(e.getBoundingClientRect(),l,!0)){n=!0;break}e=e.parentElement}if(n)return}G.push(e)}})}function Y(e,n){T.set(e,n)}function K(){let e=!1,n=!1;G.forEach(t=>{const{direction:r}=t;"horizontal"===r?e=!0:n=!0});let t=0;T.forEach(e=>{t|=e}),e&&n?x("intersection",t,B):e?x("horizontal",t,B):n?x("vertical",t,B):null!==b&&(document.head.removeChild(b),y=null,b=null,z=-1)}let X;function Z(){var e;null===(e=X)||void 0===e||e.abort(),X=new AbortController;const n={capture:!0,signal:X.signal};V.size&&(B?(G.length>0&&O.forEach((e,t)=>{const{body:r}=t;e>0&&(r.addEventListener("contextmenu",U,n),r.addEventListener("pointerleave",j,n),r.addEventListener("pointermove",j,n))}),O.forEach((e,t)=>{const{body:r}=t;r.addEventListener("pointerup",U,n),r.addEventListener("pointercancel",U,n)})):O.forEach((e,t)=>{const{body:r}=t;e>0&&(r.addEventListener("pointerdown",W,n),r.addEventListener("pointermove",j,n))}))}function _(e,n){V.forEach(t=>{const{setResizeHandlerState:r}=t,o=G.includes(t);r(e,o,n)})}function Q(e,n){if(!e)throw console.error(n),Error(n)}function ee(e,n,t=10){return e.toFixed(t)===n.toFixed(t)?0:e>n?1:-1}function ne(e,n,t=10){return 0===ee(e,n,t)}function te(e,n,t){return 0===ee(e,n,t)}function re({panelConstraints:e,panelIndex:n,size:t}){const r=e[n];Q(null!=r,`Panel constraints not found for index ${n}`);let{collapsedSize:o=0,collapsible:a,maxSize:l=100,minSize:i=0}=r;if(ee(t,i)<0)if(a){t=ee(t,(o+i)/2)<0?o:i}else t=i;return t=Math.min(l,t),t=parseFloat(t.toFixed(10))}function oe({delta:e,initialLayout:n,panelConstraints:t,pivotIndices:r,prevLayout:o,trigger:a}){if(te(e,0))return n;const l=[...n],[i,u]=r;Q(null!=i,"Invalid first pivot index"),Q(null!=u,"Invalid second pivot index");let s=0;if("keyboard"===a){{const r=e<0?u:i,o=t[r];Q(o,`Panel constraints not found for index ${r}`);const{collapsedSize:a=0,collapsible:l,minSize:s=0}=o;if(l){const t=n[r];if(Q(null!=t,`Previous layout not found for panel index ${r}`),te(t,a)){const n=s-t;ee(n,Math.abs(e))>0&&(e=e<0?0-n:n)}}}{const r=e<0?i:u,o=t[r];Q(o,`No panel constraints found for index ${r}`);const{collapsedSize:a=0,collapsible:l,minSize:s=0}=o;if(l){const t=n[r];if(Q(null!=t,`Previous layout not found for panel index ${r}`),te(t,s)){const n=t-a;ee(n,Math.abs(e))>0&&(e=e<0?0-n:n)}}}}{const r=e<0?1:-1;let o=e<0?u:i,a=0;for(;;){const e=n[o];Q(null!=e,`Previous layout not found for panel index ${o}`);if(a+=re({panelConstraints:t,panelIndex:o,size:100})-e,o+=r,o<0||o>=t.length)break}const l=Math.min(Math.abs(e),Math.abs(a));e=e<0?0-l:l}{let r=e<0?i:u;for(;r>=0&&r<t.length;){const o=Math.abs(e)-Math.abs(s),a=n[r];Q(null!=a,`Previous layout not found for panel index ${r}`);const i=re({panelConstraints:t,panelIndex:r,size:a-o});if(!te(a,i)&&(s+=a-i,l[r]=i,s.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?r--:r++}}if(function(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(!te(e[r],n[r],t))return!1;return!0}(o,l))return o;{const r=e<0?u:i,o=n[r];Q(null!=o,`Previous layout not found for panel index ${r}`);const a=o+s,c=re({panelConstraints:t,panelIndex:r,size:a});if(l[r]=c,!te(c,a)){let n=a-c;let r=e<0?u:i;for(;r>=0&&r<t.length;){const o=l[r];Q(null!=o,`Previous layout not found for panel index ${r}`);const a=re({panelConstraints:t,panelIndex:r,size:o+n});if(te(o,a)||(n-=a-o,l[r]=a),te(n,0))break;e>0?r--:r++}}}return te(l.reduce((e,n)=>n+e,0),100)?l:o}function ae({layout:e,panelsArray:n,pivotIndices:t}){let r=0,o=100,a=0,l=0;const i=t[0];Q(null!=i,"No pivot index found"),n.forEach((e,n)=>{const{constraints:t}=e,{maxSize:u=100,minSize:s=0}=t;n===i?(r=s,o=u):(a+=s,l+=u)});return{valueMax:Math.min(o,100-a),valueMin:Math.max(r,100-l),valueNow:e[i]}}function le(e,n=document){return Array.from(n.querySelectorAll(`[${l.resizeHandleId}][data-panel-group-id="${e}"]`))}function ie(e,n,t=document){const r=le(e,t).findIndex(e=>e.getAttribute(l.resizeHandleId)===n);return null!=r?r:null}function ue(e,n,t){const r=ie(e,n,t);return null!=r?[r,r+1]:[-1,-1]}function se(e,n=document){if(((t=n)instanceof HTMLElement||"object"==typeof t&&null!==t&&"tagName"in t&&"getAttribute"in t)&&n.dataset.panelGroupId==e)return n;var t;const r=n.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function ce(e,n=document){const t=n.querySelector(`[${l.resizeHandleId}="${e}"]`);return t||null}function de({committedValuesRef:e,eagerValuesRef:n,groupId:t,layout:r,panelDataArray:a,panelGroupElement:u,setLayout:s}){(0,o.useRef)({didWarnAboutMissingResizeHandle:!1}),i(()=>{if(!u)return;const e=le(t,u);for(let n=0;n<a.length-1;n++){const{valueMax:t,valueMin:o,valueNow:l}=ae({layout:r,panelsArray:a,pivotIndices:[n,n+1]}),i=e[n];if(null==i);else{const e=a[n];Q(e,`No panel data found for index "${n}"`),i.setAttribute("aria-controls",e.id),i.setAttribute("aria-valuemax",""+Math.round(t)),i.setAttribute("aria-valuemin",""+Math.round(o)),i.setAttribute("aria-valuenow",null!=l?""+Math.round(l):"")}}return()=>{e.forEach((e,n)=>{e.removeAttribute("aria-controls"),e.removeAttribute("aria-valuemax"),e.removeAttribute("aria-valuemin"),e.removeAttribute("aria-valuenow")})}},[t,r,a,u]),(0,o.useEffect)(()=>{if(!u)return;const e=n.current;Q(e,"Eager values not found");const{panelDataArray:o}=e;Q(null!=se(t,u),`No group found for id "${t}"`);const a=le(t,u);Q(a,`No resize handles found for group id "${t}"`);const i=a.map(e=>{const n=e.getAttribute(l.resizeHandleId);Q(n,"Resize handle element has no handle id attribute");const[a,i]=function(e,n,t,r=document){var o,a,l,i;const u=ce(n,r),s=le(e,r),c=u?s.indexOf(u):-1;return[null!==(o=null===(a=t[c])||void 0===a?void 0:a.id)&&void 0!==o?o:null,null!==(l=null===(i=t[c+1])||void 0===i?void 0:i.id)&&void 0!==l?l:null]}(t,n,o,u);if(null==a||null==i)return()=>{};const c=e=>{if(!e.defaultPrevented)switch(e.key){case"Enter":{e.preventDefault();const l=o.findIndex(e=>e.id===a);if(l>=0){const e=o[l];Q(e,`No panel data found for index ${l}`);const a=r[l],{collapsedSize:i=0,collapsible:c,minSize:d=0}=e.constraints;if(null!=a&&c){const e=oe({delta:te(a,i)?d-i:i-a,initialLayout:r,panelConstraints:o.map(e=>e.constraints),pivotIndices:ue(t,n,u),prevLayout:r,trigger:"keyboard"});r!==e&&s(e)}}break}}};return e.addEventListener("keydown",c),()=>{e.removeEventListener("keydown",c)}});return()=>{i.forEach(e=>e())}},[u,e,n,t,r,a,s])}function fe(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}function pe(e,n){const t="horizontal"===e,{x:r,y:o}=C(n);return t?r:o}function ge(e,n,t,r,o,a){if(S(e)){const n="horizontal"===t;let r=0;r=e.shiftKey?100:null!=o?o:10;let a=0;switch(e.key){case"ArrowDown":a=n?0:r;break;case"ArrowLeft":a=n?-r:0;break;case"ArrowRight":a=n?r:0;break;case"ArrowUp":a=n?0:-r;break;case"End":a=100;break;case"Home":a=-100}return a}return null==r?0:function(e,n,t,r,o){const a="horizontal"===t,i=ce(n,o);Q(i,`No resize handle element found for id "${n}"`);const u=i.getAttribute(l.groupId);Q(u,"Resize handle element has no group id attribute");let{initialCursorPosition:s}=r;const c=pe(t,e),d=se(u,o);Q(d,`No group element found for id "${u}"`);const f=d.getBoundingClientRect();return(c-s)/(a?f.width:f.height)*100}(e,n,t,r,a)}function me(e,n,t){n.forEach((n,r)=>{const o=e[r];Q(o,`Panel data not found for index ${r}`);const{callbacks:a,constraints:l,id:i}=o,{collapsedSize:u=0,collapsible:s}=l,c=t[i];if(null==c||n!==c){t[i]=n;const{onCollapse:e,onExpand:r,onResize:o}=a;o&&o(n,c),s&&(e||r)&&(!r||null!=c&&!ne(c,u)||ne(n,u)||r(),!e||null!=c&&ne(c,u)||!ne(n,u)||e())}})}function ye(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!=n[t])return!1;return!0}function he(e){try{if("undefined"==typeof localStorage)throw new Error("localStorage not supported in this environment");e.getItem=e=>localStorage.getItem(e),e.setItem=(e,n)=>{localStorage.setItem(e,n)}}catch(n){console.error(n),e.getItem=()=>null,e.setItem=()=>{}}}function ve(e){return`react-resizable-panels:${e}`}function ze(e){return e.map(e=>{const{constraints:n,id:t,idIsFromProps:r,order:o}=e;return r?t:o?`${o}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function be(e,n){try{const t=ve(e),r=n.getItem(t);if(r){const e=JSON.parse(r);if("object"==typeof e&&null!=e)return e}}catch(t){}return null}function xe(e,n,t,r,o){var a;const l=ve(e),i=ze(n),u=null!==(a=be(e,o))&&void 0!==a?a:{};u[i]={expandToSizes:Object.fromEntries(t.entries()),layout:r};try{o.setItem(l,JSON.stringify(u))}catch(s){console.error(s)}}function Se({layout:e,panelConstraints:n}){const t=[...e],r=t.reduce((e,n)=>e+n,0);if(t.length!==n.length)throw Error(`Invalid ${n.length} panel layout: ${t.map(e=>`${e}%`).join(", ")}`);if(!te(r,100)&&t.length>0)for(let a=0;a<n.length;a++){const e=t[a];Q(null!=e,`No layout data found for index ${a}`);const n=100/r*e;t[a]=n}let o=0;for(let a=0;a<n.length;a++){const e=t[a];Q(null!=e,`No layout data found for index ${a}`);const r=re({panelConstraints:n,panelIndex:a,size:e});e!=r&&(o+=e-r,t[a]=r)}if(!te(o,0))for(let a=0;a<n.length;a++){const e=t[a];Q(null!=e,`No layout data found for index ${a}`);const r=re({panelConstraints:n,panelIndex:a,size:e+o});if(e!==r&&(o-=r-e,t[a]=r,te(o,0)))break}return t}const we={getItem:e=>(he(we),we.getItem(e)),setItem:(e,n)=>{he(we),we.setItem(e,n)}},Ie={};function Ce({autoSaveId:e=null,children:n,className:t="",direction:r,forwardedRef:u,id:s=null,onLayout:c=null,keyboardResizeBy:f=null,storage:p=we,style:g,tagName:m="div",...y}){const h=d(s),v=(0,o.useRef)(null),[z,b]=(0,o.useState)(null),[x,C]=(0,o.useState)([]),P=function(){const[e,n]=(0,o.useState)(0);return(0,o.useCallback)(()=>n(e=>e+1),[])}(),E=(0,o.useRef)({}),k=(0,o.useRef)(new Map),A=(0,o.useRef)(0),D=(0,o.useRef)({autoSaveId:e,direction:r,dragState:z,id:h,keyboardResizeBy:f,onLayout:c,storage:p}),R=(0,o.useRef)({layout:x,panelDataArray:[],panelDataArrayChanged:!1});(0,o.useRef)({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),(0,o.useImperativeHandle)(u,()=>({getId:()=>D.current.id,getLayout:()=>{const{layout:e}=R.current;return e},setLayout:e=>{const{onLayout:n}=D.current,{layout:t,panelDataArray:r}=R.current,o=Se({layout:e,panelConstraints:r.map(e=>e.constraints)});fe(t,o)||(C(o),R.current.layout=o,n&&n(o),me(r,o,E.current))}}),[]),i(()=>{D.current.autoSaveId=e,D.current.direction=r,D.current.dragState=z,D.current.id=h,D.current.onLayout=c,D.current.storage=p}),de({committedValuesRef:D,eagerValuesRef:R,groupId:h,layout:x,panelDataArray:R.current.panelDataArray,setLayout:C,panelGroupElement:v.current}),(0,o.useEffect)(()=>{const{panelDataArray:n}=R.current;if(e){if(0===x.length||x.length!==n.length)return;let t=Ie[e];null==t&&(t=function(e,n=10){let t=null;return(...r)=>{null!==t&&clearTimeout(t),t=setTimeout(()=>{e(...r)},n)}}(xe,100),Ie[e]=t);const r=[...n],o=new Map(k.current);t(e,r,o,x,p)}},[e,x,p]),(0,o.useEffect)(()=>{});const L=(0,o.useCallback)(e=>{const{onLayout:n}=D.current,{layout:t,panelDataArray:r}=R.current;if(e.constraints.collapsible){const o=r.map(e=>e.constraints),{collapsedSize:a=0,panelSize:l,pivotIndices:i}=ke(r,e,t);if(Q(null!=l,`Panel size not found for panel "${e.id}"`),!ne(l,a)){k.current.set(e.id,l);const u=oe({delta:Ee(r,e)===r.length-1?l-a:a-l,initialLayout:t,panelConstraints:o,pivotIndices:i,prevLayout:t,trigger:"imperative-api"});ye(t,u)||(C(u),R.current.layout=u,n&&n(u),me(r,u,E.current))}}},[]),F=(0,o.useCallback)((e,n)=>{const{onLayout:t}=D.current,{layout:r,panelDataArray:o}=R.current;if(e.constraints.collapsible){const a=o.map(e=>e.constraints),{collapsedSize:l=0,panelSize:i=0,minSize:u=0,pivotIndices:s}=ke(o,e,r),c=null!=n?n:u;if(ne(i,l)){const n=k.current.get(e.id),l=null!=n&&n>=c?n:c,u=oe({delta:Ee(o,e)===o.length-1?i-l:l-i,initialLayout:r,panelConstraints:a,pivotIndices:s,prevLayout:r,trigger:"imperative-api"});ye(r,u)||(C(u),R.current.layout=u,t&&t(u),me(o,u,E.current))}}},[]),G=(0,o.useCallback)(e=>{const{layout:n,panelDataArray:t}=R.current,{panelSize:r}=ke(t,e,n);return Q(null!=r,`Panel size not found for panel "${e.id}"`),r},[]),B=(0,o.useCallback)((e,n)=>{const{panelDataArray:t}=R.current,r=Ee(t,e);return function({defaultSize:e,dragState:n,layout:t,panelData:r,panelIndex:o,precision:a=3}){const l=t[o];let i;return i=null==l?null!=e?e.toPrecision(a):"1":1===r.length?"1":l.toPrecision(a),{flexBasis:0,flexGrow:i,flexShrink:1,overflow:"hidden",pointerEvents:null!==n?"none":void 0}}({defaultSize:n,dragState:z,layout:x,panelData:t,panelIndex:r})},[z,x]),O=(0,o.useCallback)(e=>{const{layout:n,panelDataArray:t}=R.current,{collapsedSize:r=0,collapsible:o,panelSize:a}=ke(t,e,n);return Q(null!=a,`Panel size not found for panel "${e.id}"`),!0===o&&ne(a,r)},[]),T=(0,o.useCallback)(e=>{const{layout:n,panelDataArray:t}=R.current,{collapsedSize:r=0,collapsible:o,panelSize:a}=ke(t,e,n);return Q(null!=a,`Panel size not found for panel "${e.id}"`),!o||ee(a,r)>0},[]),V=(0,o.useCallback)(e=>{const{panelDataArray:n}=R.current;n.push(e),n.sort((e,n)=>{const t=e.order,r=n.order;return null==t&&null==r?0:null==t?-1:null==r?1:t-r}),R.current.panelDataArrayChanged=!0,P()},[P]);i(()=>{if(R.current.panelDataArrayChanged){R.current.panelDataArrayChanged=!1;const{autoSaveId:e,onLayout:n,storage:t}=D.current,{layout:r,panelDataArray:o}=R.current;let a=null;if(e){const n=function(e,n,t){var r,o;return null!==(o=(null!==(r=be(e,t))&&void 0!==r?r:{})[ze(n)])&&void 0!==o?o:null}(e,o,t);n&&(k.current=new Map(Object.entries(n.expandToSizes)),a=n.layout)}null==a&&(a=function({panelDataArray:e}){const n=Array(e.length),t=e.map(e=>e.constraints);let r=0,o=100;for(let a=0;a<e.length;a++){const e=t[a];Q(e,`Panel constraints not found for index ${a}`);const{defaultSize:l}=e;null!=l&&(r++,n[a]=l,o-=l)}for(let a=0;a<e.length;a++){const l=t[a];Q(l,`Panel constraints not found for index ${a}`);const{defaultSize:i}=l;if(null!=i)continue;const u=o/(e.length-r);r++,n[a]=u,o-=u}return n}({panelDataArray:o}));const l=Se({layout:a,panelConstraints:o.map(e=>e.constraints)});fe(r,l)||(C(l),R.current.layout=l,n&&n(l),me(o,l,E.current))}}),i(()=>{const e=R.current;return()=>{e.layout=[]}},[]);const W=(0,o.useCallback)(e=>{let n=!1;const t=v.current;if(t){"rtl"===window.getComputedStyle(t,null).getPropertyValue("direction")&&(n=!0)}return function(t){t.preventDefault();const r=v.current;if(!r)return()=>null;const{direction:o,dragState:a,id:l,keyboardResizeBy:i,onLayout:u}=D.current,{layout:s,panelDataArray:c}=R.current,{initialLayout:d}=null!=a?a:{},f=ue(l,e,r);let p=ge(t,e,o,a,i,r);const g="horizontal"===o;g&&n&&(p=-p);const m=oe({delta:p,initialLayout:null!=d?d:s,panelConstraints:c.map(e=>e.constraints),pivotIndices:f,prevLayout:s,trigger:S(t)?"keyboard":"mouse-or-touch"}),y=!ye(s,m);(w(t)||I(t))&&A.current!=p&&(A.current=p,Y(e,y||0===p?0:g?p<0?M:$:p<0?N:H)),y&&(C(m),R.current.layout=m,u&&u(m),me(c,m,E.current))}},[]),j=(0,o.useCallback)((e,n)=>{const{onLayout:t}=D.current,{layout:r,panelDataArray:o}=R.current,a=o.map(e=>e.constraints),{panelSize:l,pivotIndices:i}=ke(o,e,r);Q(null!=l,`Panel size not found for panel "${e.id}"`);const u=oe({delta:Ee(o,e)===o.length-1?l-n:n-l,initialLayout:r,panelConstraints:a,pivotIndices:i,prevLayout:r,trigger:"imperative-api"});ye(r,u)||(C(u),R.current.layout=u,t&&t(u),me(o,u,E.current))},[]),U=(0,o.useCallback)((e,n)=>{const{layout:t,panelDataArray:r}=R.current,{collapsedSize:o=0,collapsible:a}=n,{collapsedSize:l=0,collapsible:i,maxSize:u=100,minSize:s=0}=e.constraints,{panelSize:c}=ke(r,e,t);null!=c&&(a&&i&&ne(c,o)?ne(o,l)||j(e,l):c<s?j(e,s):c>u&&j(e,u))},[j]),J=(0,o.useCallback)((e,n)=>{const{direction:t}=D.current,{layout:r}=R.current;if(!v.current)return;const o=ce(e,v.current);Q(o,`Drag handle element not found for id "${e}"`);const a=pe(t,n);b({dragHandleId:e,dragHandleRect:o.getBoundingClientRect(),initialCursorPosition:a,initialLayout:r})},[]),q=(0,o.useCallback)(()=>{b(null)},[]),K=(0,o.useCallback)(e=>{const{panelDataArray:n}=R.current,t=Ee(n,e);t>=0&&(n.splice(t,1),delete E.current[e.id],R.current.panelDataArrayChanged=!0,P())},[P]),X=(0,o.useMemo)(()=>({collapsePanel:L,direction:r,dragState:z,expandPanel:F,getPanelSize:G,getPanelStyle:B,groupId:h,isPanelCollapsed:O,isPanelExpanded:T,reevaluatePanelConstraints:U,registerPanel:V,registerResizeHandle:W,resizePanel:j,startDragging:J,stopDragging:q,unregisterPanel:K,panelGroupElement:v.current}),[L,z,r,F,G,B,h,O,T,U,V,W,j,J,q,K]),Z={display:"flex",flexDirection:"horizontal"===r?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return(0,o.createElement)(a.Provider,{value:X},(0,o.createElement)(m,{...y,children:n,className:t,id:s,ref:v,style:{...Z,...g},[l.group]:"",[l.groupDirection]:r,[l.groupId]:h}))}const Pe=(0,o.forwardRef)((e,n)=>(0,o.createElement)(Ce,{...e,forwardedRef:n}));function Ee(e,n){return e.findIndex(e=>e===n||e.id===n.id)}function ke(e,n,t){const r=Ee(e,n),o=r===e.length-1?[r-1,r]:[r,r+1],a=t[r];return{...n.constraints,panelSize:a,pivotIndices:o}}function Ae({children:e=null,className:n="",disabled:t=!1,hitAreaMargins:r,id:u,onBlur:s,onClick:c,onDragging:f,onFocus:p,onPointerDown:g,onPointerUp:m,style:y={},tabIndex:h=0,tagName:v="div",...z}){var b,x;const S=(0,o.useRef)(null),w=(0,o.useRef)({onClick:c,onDragging:f,onPointerDown:g,onPointerUp:m});(0,o.useEffect)(()=>{w.current.onClick=c,w.current.onDragging=f,w.current.onPointerDown=g,w.current.onPointerUp=m});const I=(0,o.useContext)(a);if(null===I)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:C,groupId:P,registerResizeHandle:E,startDragging:k,stopDragging:A,panelGroupElement:D}=I,R=d(u),[L,M]=(0,o.useState)("inactive"),[$,N]=(0,o.useState)(!1),[H,F]=(0,o.useState)(null),B=(0,o.useRef)({state:L});i(()=>{B.current.state=L}),(0,o.useEffect)(()=>{if(t)F(null);else{const e=E(R);F(()=>e)}},[t,R,E]);const W=null!==(b=null==r?void 0:r.coarse)&&void 0!==b?b:15,j=null!==(x=null==r?void 0:r.fine)&&void 0!==x?x:5;(0,o.useEffect)(()=>{if(t||null==H)return;const e=S.current;Q(e,"Element ref not attached");let n=!1;return function(e,n,t,r,o){var a;const{ownerDocument:l}=n,i={direction:t,element:n,hitAreaMargins:r,setResizeHandlerState:o},u=null!==(a=O.get(l))&&void 0!==a?a:0;return O.set(l,u+1),V.add(i),Z(),function(){var n;T.delete(e),V.delete(i);const t=null!==(n=O.get(l))&&void 0!==n?n:1;if(O.set(l,t-1),Z(),1===t&&O.delete(l),G.includes(i)){const e=G.indexOf(i);e>=0&&G.splice(e,1),K(),o("up",!0,null)}}}(R,e,C,{coarse:W,fine:j},(e,t,r)=>{if(t)switch(e){case"down":{M("drag"),n=!1,Q(r,'Expected event to be defined for "down" action'),k(R,r);const{onDragging:e,onPointerDown:t}=w.current;null==e||e(!0),null==t||t();break}case"move":{const{state:e}=B.current;n=!0,"drag"!==e&&M("hover"),Q(r,'Expected event to be defined for "move" action'),H(r);break}case"up":{M("hover"),A();const{onClick:e,onDragging:t,onPointerUp:r}=w.current;null==t||t(!1),null==r||r(),n||null==e||e();break}}else M("inactive")})},[W,C,t,j,E,R,H,k,A]),function({disabled:e,handleId:n,resizeHandler:t,panelGroupElement:r}){(0,o.useEffect)(()=>{if(e||null==t||null==r)return;const o=ce(n,r);if(null==o)return;const a=e=>{if(!e.defaultPrevented)switch(e.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":e.preventDefault(),t(e);break;case"F6":{e.preventDefault();const t=o.getAttribute(l.groupId);Q(t,`No group element found for id "${t}"`);const a=le(t,r),i=ie(t,n,r);Q(null!==i,`No resize element found for id "${n}"`),a[e.shiftKey?i>0?i-1:a.length-1:i+1<a.length?i+1:0].focus();break}}};return o.addEventListener("keydown",a),()=>{o.removeEventListener("keydown",a)}},[r,e,n,t])}({disabled:t,handleId:R,resizeHandler:H,panelGroupElement:D});return(0,o.createElement)(v,{...z,children:e,className:n,id:u,onBlur:()=>{N(!1),null==s||s()},onFocus:()=>{N(!0),null==p||p()},ref:S,role:"separator",style:{touchAction:"none",userSelect:"none",...y},tabIndex:h,[l.groupDirection]:C,[l.groupId]:P,[l.resizeHandle]:"",[l.resizeHandleActive]:"drag"===L?"pointer":$?"keyboard":void 0,[l.resizeHandleEnabled]:!t,[l.resizeHandleId]:R,[l.resizeHandleState]:L})}Ce.displayName="PanelGroup",Pe.displayName="forwardRef(PanelGroup)",Ae.displayName="PanelResizeHandle"}}]);