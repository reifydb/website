"use strict";(self.webpackChunkreifydb_docs=self.webpackChunkreifydb_docs||[]).push([[3120],{2153:(e,t,n)=>{n.d(t,{A:()=>i});var s=n(59729);const r={brutalistContainer:"brutalistContainer_APvi",loadingBox:"loadingBox_aZTp",loadingSpinner:"loadingSpinner_cU7F",spin:"spin_S0yu",loadingText:"loadingText_uANT",errorBox:"errorBox_CVh4",errorHeader:"errorHeader_wshI",errorLabel:"errorLabel__alV",errorMessage:"errorMessage_E7e2",emptyBox:"emptyBox_snBC",emptyText:"emptyText_zCsI",emptyHint:"emptyHint_veDV",resultHeader:"resultHeader_TJTA",statsBox:"statsBox_DGe5",statItem:"statItem_FUB2",brutalistButton:"brutalistButton_Um01",tableContainer:"tableContainer_psY8",brutalistTable:"brutalistTable_XbYV",indexHeader:"indexHeader_nZP1",columnHeader:"columnHeader_jU89",headerContent:"headerContent_OWGD",columnName:"columnName_vxjW",columnType:"columnType_Q4Da",sortArrow:"sortArrow_rbdO",dataRow:"dataRow_Yuq2",indexCell:"indexCell_kfvR",dataCell:"dataCell_ETmi",cellValue:"cellValue_Ndje",nullValue:"nullValue_dF2x",boolValue:"boolValue_CCaZ",true:"true_LAGZ",false:"false_NP6X",jsonValue:"jsonValue_ULIV","type-number":"type-number_yLB8","type-date":"type-date_kesV","type-blob":"type-blob_ykgX",noDataCell:"noDataCell_YmTR",noDataBox:"noDataBox_aMLA",noDataHint:"noDataHint_yKui"};var a=n(65813);function i({result:e,error:t,isLoading:n}){const[i,l]=(0,s.useState)(null),[o,c]=(0,s.useState)("asc"),d=(0,s.useCallback)(e=>{if(void 0===e)return"NULL";const t=e.valueOf();if(null==t)return"NULL";if(!0===t)return"TRUE";if(!1===t)return"FALSE";if("bigint"==typeof t)return t.toString();if(t instanceof Date)return t.toISOString().replace("T"," ").substring(0,19);if(t instanceof Uint8Array){const e=Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("");return"0x"+(e.length>16?e.substring(0,16)+"...":e)}return String(t)},[]),u=(0,s.useCallback)(e=>{if(void 0===e)return"null";const t=e.valueOf();if(null==t)return"null";if("boolean"==typeof t)return"boolean";if("bigint"==typeof t||"number"==typeof t)return"number";if(t instanceof Date)return"date";if(t instanceof Uint8Array)return"blob";if("string"==typeof t){if(t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]"))try{return JSON.parse(t),"json"}catch{return"string"}return"string"}return"unknown"},[]),h=(0,s.useCallback)(e=>{i===e?c("asc"===o?"desc":"asc"):(l(e),c("asc"))},[i,o]),m=(0,s.useMemo)(()=>e&&i&&0!==e.rows.length?[...e.rows].sort((e,t)=>{const n=e[i]?.valueOf(),s=t[i]?.valueOf();if(null==n)return 1;if(null==s)return-1;let r=0;return n<s&&(r=-1),n>s&&(r=1),"asc"===o?r:-r}):e?.rows||[],[e,i,o]),x=(0,s.useCallback)(()=>{if(!e)return;const t=[e.columns.map(e=>e.name).join(","),...e.rows.map(t=>e.columns.map(e=>{const n=d(t[e.name]);return n.includes(",")?`"${n}"`:n}).join(","))].join("\n"),n=new Blob([t],{type:"text/csv"}),s=URL.createObjectURL(n),r=document.createElement("a");r.href=s,r.download=`query-results-${Date.now()}.csv`,r.click(),URL.revokeObjectURL(s)},[e,d]);return n?(0,a.jsx)("div",{className:r.brutalistContainer,children:(0,a.jsxs)("div",{className:r.loadingBox,children:[(0,a.jsx)("div",{className:r.loadingSpinner}),(0,a.jsx)("span",{className:r.loadingText,children:"EXECUTING QUERY"})]})}):t?(0,a.jsx)("div",{className:r.brutalistContainer,children:(0,a.jsxs)("div",{className:r.errorBox,children:[(0,a.jsx)("div",{className:r.errorHeader,children:(0,a.jsx)("span",{className:r.errorLabel,children:"ERROR"})}),(0,a.jsx)("pre",{className:r.errorMessage,children:t})]})}):e?(0,a.jsxs)("div",{className:r.brutalistContainer,children:[(0,a.jsx)("div",{className:r.tableContainer,children:(0,a.jsxs)("table",{className:r.brutalistTable,children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:r.indexHeader,children:"#"}),e.columns.map((e,t)=>(0,a.jsx)("th",{className:r.columnHeader,onClick:()=>h(e.name),children:(0,a.jsxs)("div",{className:r.headerContent,children:[(0,a.jsx)("span",{className:r.columnName,children:e.name}),(0,a.jsx)("span",{className:r.columnType,children:e.type}),i===e.name&&(0,a.jsx)("span",{className:r.sortArrow,children:"asc"===o?"\u25b2":"\u25bc"})]})},t))]})}),(0,a.jsx)("tbody",{children:m.length>0?m.map((t,n)=>(0,a.jsxs)("tr",{className:r.dataRow,children:[(0,a.jsx)("td",{className:r.indexCell,children:n+1}),e.columns.map((e,n)=>{const s=t[e.name],i=d(s),l=u(s);return(0,a.jsx)("td",{className:`${r.dataCell} ${r[`type-${l}`]}`,children:"null"===l?(0,a.jsx)("span",{className:r.nullValue,children:"NULL"}):"boolean"===l?(0,a.jsx)("span",{className:`${r.boolValue} ${"TRUE"===i?r.true:r.false}`,children:i}):"json"===l?(0,a.jsx)("code",{className:r.jsonValue,children:i.length>50?i.substring(0,50)+"...":i}):(0,a.jsx)("span",{className:r.cellValue,children:i})},n)})]},n)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:e.columns.length+1,className:r.noDataCell,children:(0,a.jsxs)("div",{className:r.noDataBox,children:[(0,a.jsx)("span",{children:"QUERY EXECUTED SUCCESSFULLY"}),(0,a.jsx)("span",{className:r.noDataHint,children:"NO ROWS RETURNED"})]})})})})]})}),(0,a.jsxs)("div",{className:r.resultHeader,children:[(0,a.jsxs)("div",{className:r.statsBox,children:[(0,a.jsxs)("span",{className:r.statItem,children:["ROWS: ",(0,a.jsx)("strong",{children:e.rows.length})]}),void 0!==e.rowsAffected&&(0,a.jsxs)("span",{className:r.statItem,children:["AFFECTED: ",(0,a.jsx)("strong",{children:e.rowsAffected})]})]}),(0,a.jsx)("button",{className:r.brutalistButton,onClick:x,children:"EXPORT CSV"})]})]}):(0,a.jsx)("div",{className:r.brutalistContainer,children:(0,a.jsxs)("div",{className:r.emptyBox,children:[(0,a.jsx)("span",{className:r.emptyText,children:"NO RESULTS"}),(0,a.jsx)("span",{className:r.emptyHint,children:"EXECUTE A QUERY TO SEE RESULTS"})]})})}},41567:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>l});var s=n(59729);const r={},a=s.createContext(r);function i(e){const t=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(a.Provider,{value:t},e.children)}},49717:(e,t,n)=>{n.d(t,{A:()=>l});var s=n(59729);const r={brutalistViewer:"brutalistViewer_S3Bh",viewerContainer:"viewerContainer_UCqT",codeContainer:"codeContainer_Qn7n",viewerLoading:"viewerLoading_hri4",loadingSpinner:"loadingSpinner_h5aW",spin:"spin_Nrvw",codeBlock:"codeBlock_N6rI"};var a=n(65813);const i=(0,s.lazy)(()=>Promise.all([n.e(1869),n.e(1050),n.e(9145)]).then(n.bind(n,73758)));function l({query:e,language:t="rql"}){const[n,l]=(0,s.useState)("brutalist-light"),o=(0,s.useRef)(null),c=(0,s.useCallback)(e=>{const t=e.split("\n").length;return Math.max(24*t+20,92)},[]),[d]=(0,s.useState)(()=>c(e));return(0,s.useEffect)(()=>{const e=()=>{const e=document.documentElement.getAttribute("data-theme");l("dark"===e?"brutalist-dark":"brutalist-light")};e();const t=new MutationObserver(e);return t.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>t.disconnect()},[]),(0,a.jsx)("div",{className:r.brutalistViewer,children:(0,a.jsx)("div",{className:r.viewerContainer,children:(0,a.jsx)(s.Suspense,{fallback:(0,a.jsxs)("div",{className:r.viewerLoading,children:[(0,a.jsx)("div",{className:r.loadingSpinner}),(0,a.jsx)("span",{children:"LOADING CODE..."})]}),children:(0,a.jsx)("div",{ref:o,className:r.codeContainer,style:{height:`${d}px`,minHeight:`${d}px`,maxHeight:`${d}px`},children:(0,a.jsx)(i,{value:e,onChange:()=>{},onExecute:()=>{},language:t,theme:n,readOnly:!0})})})})})}},71518:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>m,frontMatter:()=>o,metadata:()=>s,toc:()=>u});const s=JSON.parse('{"id":"getting-started/interactive-queries","title":"Interactive Queries","description":"Learn how to query data in ReifyDB with interactive examples. You can run these queries directly in your browser!","source":"@site/docs/getting-started/interactive-queries.mdx","sourceDirName":"getting-started","slug":"/getting-started/interactive-queries","permalink":"/docs/getting-started/interactive-queries","draft":false,"unlisted":false,"editUrl":"https://github.com/reifydb/reifydb/tree/main/docs/docs/getting-started/interactive-queries.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Quick Start","permalink":"/docs/getting-started/quickstart"},"next":{"title":"Core Concepts","permalink":"/docs/category/core-concepts"}}');var r=n(65813),a=n(41567),i=n(73687),l=n(94391);const o={sidebar_position:3},c="Interactive Queries",d={},u=[{value:"Basic Queries",id:"basic-queries",level:2},{value:"SELECT Statement",id:"select-statement",level:3},{value:"Filtering with WHERE",id:"filtering-with-where",level:3},{value:"Joining Tables",id:"joining-tables",level:2},{value:"Aggregation",id:"aggregation",level:2},{value:"Conditional Logic",id:"conditional-logic",level:2},{value:"Multiple Statements",id:"multiple-statements",level:2},{value:"Try Your Own Queries",id:"try-your-own-queries",level:2},{value:"Next Steps",id:"next-steps",level:2}];function h(e){const t={a:"a",div:"div",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"interactive-queries",children:"Interactive Queries"})}),"\n",(0,r.jsx)(t.p,{children:"Learn how to query data in ReifyDB with interactive examples. You can run these queries directly in your browser!"}),"\n",(0,r.jsx)(t.h2,{id:"basic-queries",children:"Basic Queries"}),"\n",(0,r.jsx)(t.h3,{id:"select-statement",children:"SELECT Statement"}),"\n",(0,r.jsx)(t.p,{children:"The most fundamental query in ReifyDB is the SELECT statement. Try running this query to see all users:"}),"\n",(0,r.jsx)(l.A,{fallback:(0,r.jsx)(t.div,{children:"Loading editor..."}),children:()=>(0,r.jsx)(i.A,{query:"map {1}"})}),"\n",(0,r.jsx)(t.h3,{id:"filtering-with-where",children:"Filtering with WHERE"}),"\n",(0,r.jsx)(t.p,{children:"You can filter results using the WHERE clause:"}),"\n",(0,r.jsx)(l.A,{fallback:(0,r.jsx)(t.div,{children:"Loading editor..."}),children:()=>(0,r.jsx)(i.A,{query:"SELECT name, email \nFROM users \nWHERE email LIKE '%@example.com'"})}),"\n",(0,r.jsx)(t.h2,{id:"joining-tables",children:"Joining Tables"}),"\n",(0,r.jsx)(t.p,{children:"ReifyDB supports various types of joins to combine data from multiple tables:"}),"\n",(0,r.jsx)(l.A,{fallback:(0,r.jsx)(t.div,{children:"Loading editor..."}),children:()=>(0,r.jsx)(i.A,{query:"SELECT u.name, p.title\nFROM users u\nJOIN posts p ON u.id = p.user_id\nWHERE p.published = true"})}),"\n",(0,r.jsx)(t.h2,{id:"aggregation",children:"Aggregation"}),"\n",(0,r.jsx)(t.p,{children:"Use aggregation functions to summarize your data:"}),"\n",(0,r.jsx)(l.A,{fallback:(0,r.jsx)(t.div,{children:"Loading editor..."}),children:()=>(0,r.jsx)(i.A,{query:"SELECT u.name, COUNT(p.id) as post_count\nFROM users u\nLEFT JOIN posts p ON u.id = p.user_id\nGROUP BY u.id, u.name\nORDER BY post_count DESC"})}),"\n",(0,r.jsx)(t.h2,{id:"conditional-logic",children:"Conditional Logic"}),"\n",(0,r.jsx)(t.p,{children:"ReifyDB supports CASE statements for conditional logic:"}),"\n",(0,r.jsx)(l.A,{fallback:(0,r.jsx)(t.div,{children:"Loading editor..."}),children:()=>(0,r.jsx)(i.A,{query:"SELECT \ntitle,\nCASE \n  WHEN published = true THEN 'Published'\n  ELSE 'Draft'\nEND as status\nFROM posts"})}),"\n",(0,r.jsx)(t.h2,{id:"multiple-statements",children:"Multiple Statements"}),"\n",(0,r.jsx)(t.p,{children:"You can run multiple SQL statements in a single execution. Each statement produces its own result table:"}),"\n",(0,r.jsx)(l.A,{fallback:(0,r.jsx)(t.div,{children:"Loading editor..."}),children:()=>(0,r.jsx)(i.A,{query:"-- Get all users\nSELECT * FROM users;\n\n-- Get all published posts\nSELECT title, published\nFROM posts\nWHERE published = true;\n\n-- Count posts per user\nSELECT u.name, COUNT(p.id) as post_count\nFROM users u\nLEFT JOIN posts p ON u.id = p.user_id\nGROUP BY u.id, u.name;"})}),"\n",(0,r.jsx)(t.h2,{id:"try-your-own-queries",children:"Try Your Own Queries"}),"\n",(0,r.jsx)(t.p,{children:"The examples above are fully editable! You can:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Modify the queries directly in the editor"}),"\n",(0,r.jsx)(t.li,{children:"Add or remove statements"}),"\n",(0,r.jsx)(t.li,{children:"See results for each statement separately"}),"\n",(0,r.jsx)(t.li,{children:"Reset to the original query if needed"}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["Want more space to experiment? Head over to the ",(0,r.jsx)(t.a,{href:"/playground",children:"Playground"})," for a full-featured SQL editor with:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Syntax highlighting and auto-completion"}),"\n",(0,r.jsx)(t.li,{children:"Schema explorer"}),"\n",(0,r.jsx)(t.li,{children:"Query history"}),"\n",(0,r.jsx)(t.li,{children:"Export capabilities"}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/docs/core-concepts/data-types",children:"Learn about Data Types"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/docs/advanced/query-optimization",children:"Explore Advanced Queries"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/playground",children:"Try the Playground"})}),"\n"]})]})}function m(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},73687:(e,t,n)=>{n.d(t,{A:()=>l});var s=n(59729),r=n(84454),a=n(49717),i=n(65813);function l({query:e,defaultExpanded:t=!1,editable:n=!0,language:l="rql",forceViewer:o=!1}){const[c,d]=(0,s.useState)(!1);(0,s.useEffect)(()=>{const e=()=>{const e="ontouchstart"in window||navigator.maxTouchPoints>0,t=window.innerWidth<=768;d(e||t)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);return o||c||!n?(0,i.jsx)(a.A,{query:e,language:l}):(0,i.jsx)(r.A,{query:e,defaultExpanded:t,editable:n})}},84454:(e,t,n)=>{n.d(t,{A:()=>d});var s=n(59729),r=n(25256),a=n(71090),i=n(2153);const l={brutalistEditor:"brutalistEditor_cL4z",editorContainer:"editorContainer_YYhe",editorWrapper:"editorWrapper_nmoD",codeContainer:"codeContainer___gc",editorActions:"editorActions_VMrc",executeBtn:"executeBtn_eig7",toggleBtn:"toggleBtn_M5NM",resetBtn:"resetBtn_nvM3",shortcutHint:"shortcutHint_UqyU",connectionDot:"connectionDot_Ohfw",connected:"connected_bP1i",pulse:"pulse_xWTZ",disconnected:"disconnected_XsOD",staticEditor:"staticEditor_KoL3",codeBlock:"codeBlock_jE7X",editorLoading:"editorLoading_Suip",loadingSpinner:"loadingSpinner_aP2V",spinner:"spinner_A9Mt",spin:"spin_LQ3s",resultsWrapper:"resultsWrapper_SoPi",statementResult:"statementResult_ISl6",statementHeader:"statementHeader_ZbAY",statementNumber:"statementNumber_VTQL",statementPreview:"statementPreview_LowY",modalOverlay:"modalOverlay_zcm8",brutalistModal:"brutalistModal_ve6W",modalHeader:"modalHeader_xJV6",modalCloseBtn:"modalCloseBtn_jIsH",modalContent:"modalContent_e58t",modalError:"modalError_wIT0",modalText:"modalText_KLui",commandBox:"commandBox_kSOX",copyBtn:"copyBtn_bS8K",modalActions:"modalActions_iCGV",brutalistBtnSecondary:"brutalistBtnSecondary_Dexq",brutalistBtnPrimary:"brutalistBtnPrimary_ci_i"};var o=n(65813);const c=(0,s.lazy)(()=>Promise.all([n.e(1869),n.e(1050),n.e(1526)]).then(n.bind(n,73758)));function d({query:e,defaultExpanded:t=!1,editable:n=!0}){const[d,u]=(0,s.useState)(e),[h,m]=(0,s.useState)(t),[x,p]=(0,s.useState)([]),[j,g]=(0,s.useState)("brutalist-light"),[b,E]=(0,s.useState)(!1),[v,N]=(0,s.useState)(0),f=(0,s.useRef)(null),C=(0,s.useRef)(null),y=(0,s.useRef)(null),_=(0,s.useRef)(()=>{}),{isConnected:S,isConnecting:T,connect:R,reconnect:w,connectionError:O}=(0,r.w5)(),{isExecuting:L,query:B,results:k,error:A}=(0,r.JU)(),D=(0,s.useCallback)(e=>{const t=e.split("\n").length,n="undefined"!=typeof window?window.innerHeight:800,s=Math.floor(.8*n);return Math.min(Math.max(24*t+20,92),s)},[]),[H,U]=(0,s.useState)(()=>{const t=e.split("\n").length;return Math.min(Math.max(24*t+20,92),640)}),I=(0,s.useCallback)(e=>{C.current&&(C.current.style.height=`${e}px`,C.current.style.minHeight=`${e}px`,C.current.style.maxHeight=`${e}px`)},[]);(0,s.useEffect)(()=>{const e=()=>{const e=document.documentElement.getAttribute("data-theme");g("dark"===e?"brutalist-dark":"brutalist-light")};e();const t=new MutationObserver(e);return t.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>t.disconnect()},[]),(0,s.useEffect)(()=>{if("undefined"==typeof window)return;const e=()=>{const e=D(d);I(e),U(e)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[d,D,I]),(0,s.useEffect)(()=>{S&&b&&(E(!1),N(0),y.current&&(clearInterval(y.current),y.current=null))},[S,b]),(0,s.useEffect)(()=>{const e=e=>{"Escape"===e.key&&b&&E(!1)};if(b)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[b]),(0,s.useEffect)(()=>()=>{y.current&&clearInterval(y.current)},[]);const q=(0,s.useCallback)(()=>{T||(N(10),y.current&&clearInterval(y.current),y.current=setInterval(()=>{N(e=>e<=1?(y.current&&(clearInterval(y.current),y.current=null),0):e-1)},1e3),S?w():R())},[T,S,w,R]),M=e=>{const t=[];let n="",s=!1,r="";for(let i=0;i<e.length;i++){const a=e[i],l=i>0?e[i-1]:"";if(s||"'"!==a&&'"'!==a)if(s&&a===r&&"\\"!==l)s=!1,n+=a;else if(s||";"!==a)n+=a;else{const e=n.trim();e&&t.push(e),n=""}else s=!0,r=a,n+=a}const a=n.trim();return a&&t.push(a),t},F=(0,s.useCallback)(()=>{if(!d?.trim()||L)return;if(!S)return void E(!0);m(!0),p([]);const e=M(d);B(e)},[d,L,S,B]);(0,s.useEffect)(()=>{if(k&&k.length>0){const e=M(d),t=k.map((t,n)=>({statement:e[n]||"",result:t,error:null}));p(t),m(!0)}else if(A){const e=M(d);p([{statement:e[0]||d,result:null,error:A}]),m(!0)}},[k,A,d]),(0,s.useEffect)(()=>{_.current=F},[F]);const V=(0,s.useCallback)(()=>{_.current()},[]);return(0,o.jsxs)(o.Fragment,{children:[b&&!S&&(0,o.jsx)("div",{className:l.modalOverlay,onClick:()=>E(!1),children:(0,o.jsxs)("div",{className:l.brutalistModal,onClick:e=>e.stopPropagation(),children:[(0,o.jsxs)("div",{className:l.modalHeader,children:[(0,o.jsx)("h3",{children:"NO CONNECTION"}),(0,o.jsx)("button",{className:l.modalCloseBtn,onClick:()=>E(!1),children:"\u2715"})]}),(0,o.jsxs)("div",{className:l.modalContent,children:[O&&(0,o.jsxs)("div",{className:l.modalError,children:["ERROR: ",O]}),(0,o.jsx)("p",{className:l.modalText,children:"START THE REIFYDB TEST CONTAINER TO RUN QUERIES"}),(0,o.jsxs)("div",{className:l.commandBox,children:[(0,o.jsx)("code",{children:a.R.DOCKER_COMMAND}),(0,o.jsx)("button",{className:l.copyBtn,onClick:()=>{navigator.clipboard.writeText(a.R.DOCKER_COMMAND);const e=event?.target;e&&(e.textContent="COPIED",setTimeout(()=>{e.textContent="COPY"},2e3))},children:"COPY"})]})]}),(0,o.jsxs)("div",{className:l.modalActions,children:[(0,o.jsx)("button",{className:l.brutalistBtnSecondary,onClick:()=>E(!1),children:"CANCEL"}),(0,o.jsx)("button",{className:l.brutalistBtnPrimary,onClick:q,disabled:T||v>0,children:T?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:l.spinner}),"CONNECTING..."]}):v>0?`RETRY IN ${v}S`:"TRY TO CONNECT"})]})]})}),(0,o.jsxs)("div",{className:l.brutalistEditor,children:[(0,o.jsx)("div",{className:l.editorContainer,children:n?(0,o.jsx)(s.Suspense,{fallback:(0,o.jsxs)("div",{className:l.editorLoading,children:[(0,o.jsx)("div",{className:l.loadingSpinner}),(0,o.jsx)("span",{children:"LOADING EDITOR..."})]}),children:(0,o.jsxs)("div",{className:l.editorWrapper,children:[(0,o.jsx)("div",{ref:C,className:l.codeContainer,style:{height:`${H}px`,minHeight:`${H}px`,maxHeight:`${H}px`},children:(0,o.jsx)(c,{ref:f,value:d,onChange:(0,s.useCallback)(e=>{u(e);const t=D(e);U(t),I(t)},[D,I]),onExecute:V,language:"rql",theme:j,readOnly:L})}),(0,o.jsxs)("div",{className:l.editorActions,children:[(0,o.jsx)("button",{className:l.executeBtn,onClick:F,disabled:L,children:L?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:l.spinner}),"EXECUTING..."]}):(0,o.jsx)(o.Fragment,{children:"\u25b6 RUN QUERY"})}),x.length>0&&(0,o.jsxs)("button",{className:l.toggleBtn,onClick:()=>m(!h),children:[h?"\u25bc":"\u25b6"," ",h?"HIDE":"SHOW"," RESULTS (",x.length,")"]}),n&&d!==e&&(0,o.jsx)("button",{className:l.resetBtn,onClick:()=>{u(e);const t=D(e);U(t),I(t),f.current&&f.current.setValue(e)},children:"\u21ba RESET"}),(0,o.jsx)("span",{className:l.shortcutHint,children:"CTRL+ENTER TO RUN"}),(0,o.jsx)("span",{className:`${l.connectionDot} ${S?l.connected:l.disconnected}`,children:T?"CONNECTING":S?"CONNECTED":"DISCONNECTED"})]})]})}):(0,o.jsxs)("div",{className:l.staticEditor,children:[(0,o.jsx)("pre",{className:l.codeBlock,children:(0,o.jsx)("code",{children:d})}),(0,o.jsxs)("div",{className:l.editorActions,children:[(0,o.jsx)("button",{className:l.executeBtn,onClick:F,disabled:L||!S,children:L?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:l.spinner}),"EXECUTING..."]}):(0,o.jsx)(o.Fragment,{children:"\u25b6 RUN QUERY"})}),x.length>0&&(0,o.jsxs)("button",{className:l.toggleBtn,onClick:()=>m(!h),children:[h?"\u25bc":"\u25b6"," ",h?"HIDE":"SHOW"," RESULTS (",x.length,")"]}),(0,o.jsx)("span",{className:`${l.connectionDot} ${S?l.connected:l.disconnected}`,children:T?"CONNECTING":S?"CONNECTED":"DISCONNECTED"})]})]})}),h&&x.length>0&&(0,o.jsx)("div",{className:l.resultsWrapper,children:x.map((e,t)=>((e,t)=>{const{result:n,error:s}=e;return(0,o.jsx)("div",{children:(0,o.jsx)(i.A,{result:n||void 0,error:s||void 0,isLoading:!1})},t)})(e,t))})]})]})}},94391:(e,t,n)=>{n.d(t,{A:()=>a});n(59729);var s=n(96228),r=n(65813);function a({children:e,fallback:t}){return(0,s.A)()?(0,r.jsx)(r.Fragment,{children:e?.()}):t??null}}}]);