(self.webpackChunkreifydb_docs=self.webpackChunkreifydb_docs||[]).push([[1453,1526,9145],{2153:(e,o,n)=>{"use strict";n.d(o,{A:()=>i});var t=n(59729);const s={brutalistContainer:"brutalistContainer_APvi",loadingBox:"loadingBox_aZTp",loadingSpinner:"loadingSpinner_cU7F",spin:"spin_S0yu",loadingText:"loadingText_uANT",errorBox:"errorBox_CVh4",errorHeader:"errorHeader_wshI",errorLabel:"errorLabel__alV",errorMessage:"errorMessage_E7e2",emptyBox:"emptyBox_snBC",emptyText:"emptyText_zCsI",emptyHint:"emptyHint_veDV",resultHeader:"resultHeader_TJTA",statsBox:"statsBox_DGe5",statItem:"statItem_FUB2",brutalistButton:"brutalistButton_Um01",tableContainer:"tableContainer_psY8",brutalistTable:"brutalistTable_XbYV",indexHeader:"indexHeader_nZP1",columnHeader:"columnHeader_jU89",headerContent:"headerContent_OWGD",columnName:"columnName_vxjW",columnType:"columnType_Q4Da",sortArrow:"sortArrow_rbdO",dataRow:"dataRow_Yuq2",indexCell:"indexCell_kfvR",dataCell:"dataCell_ETmi",cellValue:"cellValue_Ndje",nullValue:"nullValue_dF2x",boolValue:"boolValue_CCaZ",true:"true_LAGZ",false:"false_NP6X",jsonValue:"jsonValue_ULIV","type-number":"type-number_yLB8","type-date":"type-date_kesV","type-blob":"type-blob_ykgX",noDataCell:"noDataCell_YmTR",noDataBox:"noDataBox_aMLA",noDataHint:"noDataHint_yKui"};var r=n(65813);function i({result:e,error:o,isLoading:n}){const[i,a]=(0,t.useState)(null),[c,l]=(0,t.useState)("asc"),d=(0,t.useCallback)(e=>{if(void 0===e)return"NULL";const o=e.valueOf();if(null==o)return"NULL";if(!0===o)return"TRUE";if(!1===o)return"FALSE";if("bigint"==typeof o)return o.toString();if(o instanceof Date)return o.toISOString().replace("T"," ").substring(0,19);if(o instanceof Uint8Array){const e=Array.from(o).map(e=>e.toString(16).padStart(2,"0")).join("");return"0x"+(e.length>16?e.substring(0,16)+"...":e)}return String(o)},[]),m=(0,t.useCallback)(e=>{if(void 0===e)return"null";const o=e.valueOf();if(null==o)return"null";if("boolean"==typeof o)return"boolean";if("bigint"==typeof o||"number"==typeof o)return"number";if(o instanceof Date)return"date";if(o instanceof Uint8Array)return"blob";if("string"==typeof o){if(o.startsWith("{")&&o.endsWith("}")||o.startsWith("[")&&o.endsWith("]"))try{return JSON.parse(o),"json"}catch{return"string"}return"string"}return"unknown"},[]),u=(0,t.useCallback)(e=>{i===e?l("asc"===c?"desc":"asc"):(a(e),l("asc"))},[i,c]),p=(0,t.useMemo)(()=>e&&i&&0!==e.rows.length?[...e.rows].sort((e,o)=>{const n=e[i]?.valueOf(),t=o[i]?.valueOf();if(null==n)return 1;if(null==t)return-1;let s=0;return n<t&&(s=-1),n>t&&(s=1),"asc"===c?s:-s}):e?.rows||[],[e,i,c]),g=(0,t.useCallback)(()=>{if(!e)return;const o=[e.columns.map(e=>e.name).join(","),...e.rows.map(o=>e.columns.map(e=>{const n=d(o[e.name]);return n.includes(",")?`"${n}"`:n}).join(","))].join("\n"),n=new Blob([o],{type:"text/csv"}),t=URL.createObjectURL(n),s=document.createElement("a");s.href=t,s.download=`query-results-${Date.now()}.csv`,s.click(),URL.revokeObjectURL(t)},[e,d]);return n?(0,r.jsx)("div",{className:s.brutalistContainer,children:(0,r.jsxs)("div",{className:s.loadingBox,children:[(0,r.jsx)("div",{className:s.loadingSpinner}),(0,r.jsx)("span",{className:s.loadingText,children:"EXECUTING QUERY"})]})}):o?(0,r.jsx)("div",{className:s.brutalistContainer,children:(0,r.jsxs)("div",{className:s.errorBox,children:[(0,r.jsx)("div",{className:s.errorHeader,children:(0,r.jsx)("span",{className:s.errorLabel,children:"ERROR"})}),(0,r.jsx)("pre",{className:s.errorMessage,children:o})]})}):e?(0,r.jsx)("div",{className:s.brutalistContainer,children:(0,r.jsxs)("div",{className:s.tableContainer,children:[(0,r.jsxs)("table",{className:s.brutalistTable,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:s.indexHeader,children:"#"}),e.columns.map((e,o)=>(0,r.jsx)("th",{className:s.columnHeader,onClick:()=>u(e.name),children:(0,r.jsxs)("div",{className:s.headerContent,children:[(0,r.jsx)("span",{className:s.columnName,children:e.name}),(0,r.jsx)("span",{className:s.columnType,children:e.ty}),i===e.name&&(0,r.jsx)("span",{className:s.sortArrow,children:"asc"===c?"\u25b2":"\u25bc"})]})},o))]})}),(0,r.jsx)("tbody",{children:p.length>0?p.map((o,n)=>(0,r.jsxs)("tr",{className:s.dataRow,children:[(0,r.jsx)("td",{className:s.indexCell,children:n+1}),e.columns.map((e,n)=>{const t=o[e.name],i=d(t),a=m(t);return(0,r.jsx)("td",{className:`${s.dataCell} ${s[`type-${a}`]}`,children:"null"===a?(0,r.jsx)("span",{className:s.nullValue,children:"NULL"}):"boolean"===a?(0,r.jsx)("span",{className:`${s.boolValue} ${"TRUE"===i?s.true:s.false}`,children:i}):"json"===a?(0,r.jsx)("code",{className:s.jsonValue,children:i.length>50?i.substring(0,50)+"...":i}):(0,r.jsx)("span",{className:s.cellValue,children:i})},n)})]},n)):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:e.columns.length+1,className:s.noDataCell,children:(0,r.jsxs)("div",{className:s.noDataBox,children:[(0,r.jsx)("span",{children:"QUERY EXECUTED SUCCESSFULLY"}),(0,r.jsx)("span",{className:s.noDataHint,children:"NO ROWS RETURNED"})]})})})})]}),(0,r.jsxs)("div",{className:s.resultHeader,children:[(0,r.jsxs)("div",{className:s.statsBox,children:[(0,r.jsxs)("span",{className:s.statItem,children:["ROWS: ",(0,r.jsx)("strong",{children:e.rows.length})]}),void 0!==e.rowsAffected&&(0,r.jsxs)("span",{className:s.statItem,children:["AFFECTED: ",(0,r.jsx)("strong",{children:e.rowsAffected})]})]}),(0,r.jsx)("button",{className:s.brutalistButton,onClick:g,children:"EXPORT CSV"})]})]})}):(0,r.jsx)("div",{className:s.brutalistContainer,children:(0,r.jsxs)("div",{className:s.emptyBox,children:[(0,r.jsx)("span",{className:s.emptyText,children:"NO RESULTS"}),(0,r.jsx)("span",{className:s.emptyHint,children:"EXECUTE A QUERY TO SEE RESULTS"})]})})}},12694:(e,o,n)=>{var t={"./simpleWorker":79757,"./simpleWorker.js":79757,".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/base/common/worker/simpleWorker":79757,".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/base/common/worker/simpleWorker.js":79757};function s(e){return Promise.resolve().then(()=>{if(!n.o(t,e)){var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return n(t[e])})}s.keys=()=>Object.keys(t),s.id=12694,e.exports=s},20885:(e,o,n)=>{"use strict";n.r(o),n.d(o,{default:()=>_});var t=n(59729),s=n(15816),r=n(73758),i=n(2153);const a={schemaExplorer:"schemaExplorer_Jl2v",header:"header_ekv0",tableList:"tableList_yhKm",emptyState:"emptyState_QL5l",table:"table_iJw6",tableHeader:"tableHeader_HsV6",expandIcon:"expandIcon_ICVr",tableName:"tableName_XF_s",rowCount:"rowCount_Taah",columnList:"columnList_KeW5",column:"column_CfY8",columnName:"columnName_BKPX",columnType:"columnType_b7Em"};var c=n(65813);function l({schema:e,onTableClick:o}){const[n,s]=(0,t.useState)(new Set);return(0,c.jsxs)("div",{className:a.schemaExplorer,children:[(0,c.jsx)("div",{className:a.header,children:(0,c.jsx)("h3",{children:"Database Schema"})}),(0,c.jsx)("div",{className:a.tableList,children:0===e.length?(0,c.jsx)("div",{className:a.emptyState,children:"No tables found"}):e.map(e=>(0,c.jsxs)("div",{className:a.table,children:[(0,c.jsxs)("div",{className:a.tableHeader,onClick:()=>(e=>{const o=new Set(n);o.has(e)?o.delete(e):o.add(e),s(o)})(e.name),children:[(0,c.jsx)("span",{className:a.expandIcon,children:n.has(e.name)?"\u25bc":"\u25b6"}),(0,c.jsx)("span",{className:a.tableName,onClick:n=>{n.stopPropagation(),o?.(e.name)},children:e.name}),void 0!==e.rowCount&&(0,c.jsxs)("span",{className:a.rowCount,children:[e.rowCount," rows"]})]}),n.has(e.name)&&(0,c.jsx)("div",{className:a.columnList,children:e.columns.map((e,o)=>(0,c.jsxs)("div",{className:a.column,children:[(0,c.jsx)("span",{className:a.columnName,children:e.name}),(0,c.jsxs)("span",{className:a.columnType,children:[e.dataType,!e.nullable&&" NOT NULL"]})]},o))})]},e.name))})]})}const d={historyContainer:"historyContainer_IJJ5",emptyState:"emptyState_QwkD",hint:"hint_SF07",historyItem:"historyItem_nf9Q",error:"error_Wdh_",queryHeader:"queryHeader_O2jQ",timestamp:"timestamp_s878",executionTime:"executionTime_rEbc",errorBadge:"errorBadge_UxQc",queryText:"queryText_htsn",errorMessage:"errorMessage_IikX"};function m({history:e,onQuerySelect:o}){const n=(e,o=100)=>{const n=e.replace(/\s+/g," ").trim();return n.length<=o?n:n.substring(0,o)+"..."};return 0===e.length?(0,c.jsxs)("div",{className:d.emptyState,children:[(0,c.jsx)("p",{children:"No query history yet"}),(0,c.jsx)("p",{className:d.hint,children:"Executed queries will appear here"})]}):(0,c.jsx)("div",{className:d.historyContainer,children:e.slice().reverse().map(e=>{return(0,c.jsxs)("div",{className:`${d.historyItem} ${e.success?"":d.error}`,onClick:()=>o?.(e.query),children:[(0,c.jsxs)("div",{className:d.queryHeader,children:[(0,c.jsx)("span",{className:d.timestamp,children:(t=e.timestamp,new Date(t).toLocaleTimeString())}),(0,c.jsxs)("span",{className:d.executionTime,children:[e.executionTimeMs,"ms"]}),!e.success&&(0,c.jsx)("span",{className:d.errorBadge,children:"Error"})]}),(0,c.jsx)("div",{className:d.queryText,children:n(e.query)}),e.error&&(0,c.jsx)("div",{className:d.errorMessage,children:e.error})]},e.id);var t})})}const u={toolbar:"toolbar_pWSb",toolbarLeft:"toolbarLeft_gm_C",toolbarRight:"toolbarRight_BmRO",button:"button_LAEY",primaryButton:"primaryButton_KOR3",dropdown:"dropdown_exhf",dropdownMenu:"dropdownMenu__zex",dropdownItem:"dropdownItem_R6Ol",connectionStatus:"connectionStatus_z2sX",statusDot:"statusDot_Easn",connected:"connected_GAy8",disconnected:"disconnected_zQog"},p=[{id:"basic-select",name:"Basic SELECT",query:"SELECT * FROM users LIMIT 10;"},{id:"join",name:"JOIN Example",query:"SELECT u.name, p.title FROM users u JOIN posts p ON u.id = p.user_id;"},{id:"aggregate",name:"Aggregation",query:"SELECT user_id, COUNT(*) as post_count FROM posts GROUP BY user_id;"},{id:"insert",name:"INSERT Data",query:"INSERT INTO users (name, email) VALUES ('New User', 'new@example.com');"},{id:"update",name:"UPDATE Data",query:"UPDATE posts SET published = true WHERE title LIKE '%ReifyDB%';"}];function g({connected:e,isExecuting:o,onExecute:n,onReset:s,onLoadExample:r}){const[i,a]=(0,t.useState)(!1);return(0,c.jsxs)("div",{className:u.toolbar,children:[(0,c.jsxs)("div",{className:u.toolbarLeft,children:[(0,c.jsx)("button",{className:`${u.button} ${u.primaryButton}`,onClick:n,disabled:!e||o,children:o?"Executing...":"Run Query"}),(0,c.jsxs)("div",{className:u.dropdown,children:[(0,c.jsx)("button",{className:u.button,onClick:()=>a(!i),children:"Examples \u25bc"}),i&&(0,c.jsx)("div",{className:u.dropdownMenu,children:p.map(e=>(0,c.jsx)("button",{className:u.dropdownItem,onClick:()=>{r(e.query),a(!1)},children:e.name},e.id))})]}),(0,c.jsx)("button",{className:u.button,onClick:s,disabled:!e,children:"Reset Database"})]}),(0,c.jsx)("div",{className:u.toolbarRight,children:(0,c.jsxs)("div",{className:u.connectionStatus,children:[(0,c.jsx)("span",{className:`${u.statusDot} ${e?u.connected:u.disconnected}`}),(0,c.jsx)("span",{children:e?"Connected":"Disconnected"})]})})]})}var h=n(97566),v=n(73856),y=n(32296);const x=[{name:"users",columns:[{name:"id",dataType:"INTEGER",nullable:!1},{name:"name",dataType:"TEXT",nullable:!1},{name:"email",dataType:"TEXT",nullable:!0},{name:"created_at",dataType:"TIMESTAMP",nullable:!0}],indexes:["PRIMARY KEY (id)","UNIQUE (email)"],rowCount:3},{name:"posts",columns:[{name:"id",dataType:"INTEGER",nullable:!1},{name:"user_id",dataType:"INTEGER",nullable:!0},{name:"title",dataType:"TEXT",nullable:!1},{name:"content",dataType:"TEXT",nullable:!0},{name:"published",dataType:"BOOLEAN",nullable:!0},{name:"created_at",dataType:"TIMESTAMP",nullable:!0}],indexes:["PRIMARY KEY (id)","FOREIGN KEY (user_id) REFERENCES users(id)"],rowCount:4}],b=[[1,"Alice Johnson","alice@example.com","2024-01-15 10:30:00"],[2,"Bob Smith","bob@example.com","2024-01-16 14:20:00"],[3,"Charlie Brown","charlie@example.com","2024-01-17 09:15:00"]],f=[[1,1,"Getting Started with ReifyDB","ReifyDB is a modern database...",!0,"2024-01-20 11:00:00"],[2,1,"Advanced Query Optimization","In this post we explore...",!0,"2024-01-22 15:30:00"],[3,2,"Building Real-time Apps","Learn how to build...",!0,"2024-01-23 10:45:00"],[4,3,"Draft Post","This is a work in progress...",!1,"2024-01-24 16:20:00"]];const S={playground:"playground_eFU1",content:"content_XQsO",resizeHandle:"resizeHandle_YQ6i",resultPanel:"resultPanel_Yi9C",tabs:"tabs_BACI",tab:"tab_lw1M",active:"active_HyYE",tabContent:"tabContent_zlnj"},C="-- Welcome to ReifyDB Playground!\n-- Try running this query:\nSELECT * FROM users LIMIT 10;";function _(){const[e,o]=(0,t.useState)(C),[n,a]=(0,t.useState)(!1),[d,u]=(0,t.useState)("result"),[p,_]=(0,t.useState)("vs"),j=(0,t.useRef)(null),{connected:k,result:E,error:T,schema:N,history:w,executeQuery:A,resetDatabase:D,loadExample:R}=function(){const{client:e,isConnected:o,isConnecting:n,connectionError:s,connect:r,disconnect:i,reconnect:a}=(0,h.w)(),{isExecuting:c,result:l,error:d,executionTime:m,history:u,executeQuery:p,clearResults:g,clearHistory:S}=(0,v.I)(e,{addToHistory:!0}),[C,_]=(0,t.useState)(x),j=(0,t.useCallback)(async e=>{if(console.log("[usePlaygroundConnection] executeQuery called, connected:",o),!o){console.log("[usePlaygroundConnection] Not connected, using mock data fallback");const o=e.toLowerCase().trim();if(o.includes("from users"))return{columns:[{name:"id",ty:"Int4",data:[]},{name:"name",ty:"Utf8",data:[]},{name:"email",ty:"Utf8",data:[]},{name:"created_at",ty:"DateTime",data:[]}],rows:b.map(e=>({id:new y.f0(e[0]),name:new y.D_(e[1]),email:new y.D_(e[2]),created_at:new y.Z4(e[3])})),executionTimeMs:100};if(o.includes("from posts"))return{columns:[{name:"id",ty:"Int4",data:[]},{name:"user_id",ty:"Int4",data:[]},{name:"title",ty:"Utf8",data:[]},{name:"content",ty:"Utf8",data:[]},{name:"published",ty:"Bool",data:[]},{name:"created_at",ty:"DateTime",data:[]}],rows:f.map(e=>({id:new y.f0(e[0]),user_id:new y.f0(e[1]),title:new y.D_(e[2]),content:new y.D_(e[3]),published:new y._t(e[4]),created_at:new y.Z4(e[5])})),executionTimeMs:100}}return await p(e)},[o,p]),k=(0,t.useCallback)(()=>{g(),S(),_(x)},[g,S]),E=(0,t.useCallback)(e=>e,[]),T=(0,t.useCallback)(async()=>{if(e&&o)try{_(x)}catch(n){console.error("Failed to fetch schema:",n),_(x)}},[e,o]);return{connected:o,isConnecting:n,connectionError:s,result:l,error:d,schema:C,history:u,executeQuery:j,resetDatabase:k,loadExample:E,connect:r,disconnect:i,reconnect:a,fetchSchema:T}}(),F=(0,t.useCallback)(async()=>{if(e.trim()&&!n){a(!0),u("result");try{await A(e)}finally{a(!1)}}},[e,n,A]);(0,t.useEffect)(()=>{const e=()=>{const e=document.documentElement.getAttribute("data-theme");_("dark"===e?"vs-dark":"vs")};e();const o=new MutationObserver(e);return o.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>o.disconnect()},[]);const M=(0,t.useCallback)(e=>{o(e),j.current&&j.current.setValue(e)},[]);return(0,c.jsxs)("div",{className:S.playground,children:[(0,c.jsx)(g,{connected:k,isExecuting:n,onExecute:F,onReset:D,onLoadExample:R}),(0,c.jsx)("div",{className:S.content,children:(0,c.jsxs)(s.YZ,{direction:"horizontal",children:[(0,c.jsx)(s.Zk,{defaultSize:20,minSize:15,maxSize:30,children:(0,c.jsx)(l,{schema:N,onTableClick:e=>{o(`SELECT * FROM ${e} LIMIT 10;`)}})}),(0,c.jsx)(s.TW,{className:S.resizeHandle}),(0,c.jsx)(s.Zk,{defaultSize:80,children:(0,c.jsxs)(s.YZ,{direction:"vertical",children:[(0,c.jsx)(s.Zk,{defaultSize:40,minSize:20,children:(0,c.jsx)(r.default,{ref:j,value:e,onChange:o,onExecute:F,language:"rql",theme:p})}),(0,c.jsx)(s.TW,{className:S.resizeHandle}),(0,c.jsx)(s.Zk,{defaultSize:60,minSize:20,children:(0,c.jsxs)("div",{className:S.resultPanel,children:[(0,c.jsxs)("div",{className:S.tabs,children:[(0,c.jsx)("button",{className:`${S.tab} ${"result"===d?S.active:""}`,onClick:()=>u("result"),children:"Result"}),(0,c.jsx)("button",{className:`${S.tab} ${"history"===d?S.active:""}`,onClick:()=>u("history"),children:"History"})]}),(0,c.jsx)("div",{className:S.tabContent,children:"result"===d?(0,c.jsx)(i.A,{result:E,error:T,isLoading:n}):(0,c.jsx)(m,{history:w,onQuerySelect:M})})]})})]})})]})})]})}},52048:(e,o,n)=>{var t={"./editorBaseApi":[32919],"./editorBaseApi.js":[32919],"./editorSimpleWorker":[23007],"./editorSimpleWorker.js":[23007],"./editorWorker":[56812],"./editorWorker.js":[56812],"./editorWorkerHost":[8482],"./editorWorkerHost.js":[8482],"./findSectionHeaders":[43359],"./findSectionHeaders.js":[43359],"./getIconClasses":[32352],"./getIconClasses.js":[32352],"./languageFeatureDebounce":[82688],"./languageFeatureDebounce.js":[82688],"./languageFeatures":[69122],"./languageFeatures.js":[69122],"./languageFeaturesService":[81939],"./languageFeaturesService.js":[81939],"./languageService":[31806],"./languageService.js":[31806],"./languagesAssociations":[13640],"./languagesAssociations.js":[13640],"./languagesRegistry":[839],"./languagesRegistry.js":[839],"./markerDecorations":[12098],"./markerDecorations.js":[12098],"./markerDecorationsService":[92903],"./markerDecorationsService.js":[92903],"./model":[59266],"./model.js":[59266],"./modelService":[76583],"./modelService.js":[76583],"./resolverService":[20878],"./resolverService.js":[20878],"./semanticTokensDto":[85124],"./semanticTokensDto.js":[85124],"./semanticTokensProviderStyling":[62662],"./semanticTokensProviderStyling.js":[62662],"./semanticTokensStyling":[17239],"./semanticTokensStyling.js":[17239],"./semanticTokensStylingService":[54560],"./semanticTokensStylingService.js":[54560],"./textModelSync/textModelSync.impl":[51711],"./textModelSync/textModelSync.impl.js":[51711],"./textModelSync/textModelSync.protocol":[19400,9400],"./textModelSync/textModelSync.protocol.js":[19400,7019],"./textResourceConfiguration":[17492],"./textResourceConfiguration.js":[17492],"./treeSitterParserService":[10948],"./treeSitterParserService.js":[10948],"./treeViewsDnd":[73559],"./treeViewsDnd.js":[73559],"./treeViewsDndService":[61152],"./treeViewsDndService.js":[61152],"./unicodeTextModelHighlighter":[18827],"./unicodeTextModelHighlighter.js":[18827],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/editorBaseApi":[32919],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/editorBaseApi.js":[32919],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker":[23007],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js":[23007],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/editorWorker":[56812],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/editorWorker.js":[56812],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/editorWorkerHost":[8482],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/editorWorkerHost.js":[8482],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/findSectionHeaders":[43359],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/findSectionHeaders.js":[43359],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/getIconClasses":[32352],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/getIconClasses.js":[32352],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatureDebounce":[82688],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatureDebounce.js":[82688],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatures":[69122],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatures.js":[69122],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/languageFeaturesService":[81939],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/languageFeaturesService.js":[81939],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/languageService":[31806],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/languageService.js":[31806],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/languagesAssociations":[13640],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/languagesAssociations.js":[13640],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/languagesRegistry":[839],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/languagesRegistry.js":[839],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorations":[12098],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorations.js":[12098],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsService":[92903],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsService.js":[92903],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/model":[59266],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/model.js":[59266],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/modelService":[76583],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/modelService.js":[76583],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/resolverService":[20878],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/resolverService.js":[20878],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensDto":[85124],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensDto.js":[85124],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensProviderStyling":[62662],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensProviderStyling.js":[62662],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStyling":[17239],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStyling.js":[17239],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStylingService":[54560],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStylingService.js":[54560],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.impl":[51711],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.impl.js":[51711],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.protocol":[19400,4638],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.protocol.js":[19400,2257],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/textResourceConfiguration":[17492],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/textResourceConfiguration.js":[17492],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/treeSitterParserService":[10948],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/treeSitterParserService.js":[10948],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDnd":[73559],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDnd.js":[73559],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDndService":[61152],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDndService.js":[61152],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/unicodeTextModelHighlighter":[18827],".pnpm/monaco-editor@0.52.2/node_modules/monaco-editor/esm/vs/editor/common/services/unicodeTextModelHighlighter.js":[18827]};function s(e){if(!n.o(t,e))return Promise.resolve().then(()=>{var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o});var o=t[e],s=o[0];return Promise.all(o.slice(1).map(n.e)).then(()=>n(s))}s.keys=()=>Object.keys(t),s.id=52048,e.exports=s},71090:(e,o,n)=>{"use strict";n.d(o,{R:()=>t});const t={DEFAULT_WS_URL:"ws://127.0.0.1:8090",CONNECTION:{TIMEOUT_MS:1e4,RECONNECT_INTERVAL_MS:5e3,MAX_RECONNECT_ATTEMPTS:3},QUERY:{MAX_HISTORY_SIZE:100,DEFAULT_EXECUTION_TIMEOUT:3e4},DOCKER_COMMAND:"docker run -p 127.0.0.1:8090:8090 reifydb/testcontainer",getWebSocketUrl(){if("undefined"!=typeof window){const e=window.REIFYDB_WS_URL;if(e)return e;if("localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname)return`wss://${window.location.hostname}/ws`}return this.DEFAULT_WS_URL}}},73758:(e,o,n)=>{"use strict";n.r(o),n.d(o,{default:()=>y});var t=n(59729),s=n(68655);const r="brutalistEditorContainer_zuLD";var i=n(42044);const a=["aggregate","append","create","derive","deferred","filter","from","group","join","map","select","sort","take","union","view","with"],c=["date","math","text"],l=["case"],d=["set"],m=["undefined","true","false"],u={defaultToken:"invalid",ignoreCase:!0,keywords:[...a,...c,...l,...d,...m],operators:["+","-","*","/","//","%","=","==","!=","->","=>",">","<",">=","<=","~=","&&","||","??"],tokenizer:{root:[[/#.*/,"comment"],[/(\w+)\s*:/,"key"],[/[a-zA-Z_$][\w$]*/,{cases:{"@keywords":"keyword","@default":"identifier"}}],{include:"@whitespace"},[/[()[\]]/,"@brackets"],[/[+-]?(?:[\d_]+(?:\.[\d_]+)?|\.[\d_]+)/,"number"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/'([^'\\]|\\.)*$/,"string.invalid"],[/'/,{token:"string.quote",bracket:"@open",next:"@singlestring"}],[/[+\-*/%]/,"operator"],[/\/\//,"operator"],[/==|!=|->|=>|>=|<=|~=|>|</,"operator"],[/&&|\|\||\?\?/,"operator"]],string:[[/[^\\"]+/,"string"],[/\\./,"string.escape"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],singlestring:[[/[^\\']+/,"string"],[/\\./,"string.escape"],[/'/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^/*]+/,"comment"],[/\/\*/,"comment","@push"],[/\*\//,"comment","@pop"],[/[/*]/,"comment"]]}},p={comments:{lineComment:"#",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],folding:{offSide:!0}},g={provideCompletionItems:(e,o,n,t)=>{const s=e.getWordUntilPosition(o),r={startLineNumber:o.lineNumber,endLineNumber:o.lineNumber,startColumn:s.startColumn,endColumn:s.endColumn};return{suggestions:[...a.map(e=>({label:e,kind:i.eo.CompletionItemKind.Keyword,insertText:e,documentation:`RQL transform: ${e}`,range:r})),...c.map(e=>({label:e,kind:i.eo.CompletionItemKind.Module,insertText:e,documentation:`RQL module: ${e}`,range:r})),...l.map(e=>({label:e,kind:i.eo.CompletionItemKind.Function,insertText:e,documentation:`RQL function: ${e}`,range:r})),...d.map(e=>({label:e,kind:i.eo.CompletionItemKind.Keyword,insertText:e,documentation:`RQL keyword: ${e}`,range:r})),...m.map(e=>({label:e,kind:i.eo.CompletionItemKind.Constant,insertText:e,documentation:`RQL literal: ${e}`,range:r}))]}}};var h=n(65813);const v=(0,t.forwardRef)(({value:e,onChange:o,onExecute:n,language:i="rql",theme:a="brutalist-light",readOnly:c=!1},l)=>{const d=(0,t.useRef)(null),m=(0,t.useRef)(null),v=(0,t.useRef)(n);(0,t.useEffect)(()=>{v.current=n},[n]),(0,t.useEffect)(()=>{if(m.current&&a){const e="brutalist-light"===a?"brutalist-light":"brutalist-dark"===a?"brutalist-dark":a;m.current.editor.setTheme(e)}},[a]),(0,t.useImperativeHandle)(l,()=>({setValue:e=>{d.current&&d.current.setValue(e)},getValue:()=>d.current?.getValue()||"",focus:()=>{d.current?.focus()}}));return(0,h.jsx)("div",{className:r,onMouseEnter:()=>{d.current?.focus()},children:(0,h.jsx)(s.Ay,{height:"100%",language:i,theme:a,value:e,onChange:e=>o(e||""),beforeMount:e=>{if(e.languages.getLanguages().some(e=>"rql"===e.id)||(e.languages.register({id:"rql"}),e.languages.setMonarchTokensProvider("rql",u),e.languages.setLanguageConfiguration("rql",p),e.languages.registerCompletionItemProvider("rql",g)),e.editor.defineTheme("brutalist-light",{base:"vs",inherit:!0,rules:[{token:"keyword",foreground:"383838",fontStyle:"bold"},{token:"string",foreground:"16A34A"},{token:"string.sql",foreground:"16A34A"},{token:"string.quote",foreground:"16A34A"},{token:"string.escape",foreground:"16A34A",fontStyle:"italic"},{token:"comment",foreground:"5A5A5A"},{token:"number",foreground:"B91C1C",fontStyle:"bold"},{token:"operator",foreground:"383838",fontStyle:"bold"},{token:"identifier",foreground:"1A1A1A"},{token:"type",foreground:"7C3AED",fontStyle:"bold"},{token:"key",foreground:"7C3AED",fontStyle:"italic"}],colors:{"editor.background":"#F8F8F7","editor.foreground":"#1A1A1A","editor.lineHighlightBackground":"#F4EFEA","editorLineNumber.foreground":"#5A5A5A","editor.selectionBackground":"#383838","editor.selectionForeground":"#FFFFFF","editor.inactiveSelectionBackground":"#E5E5E5","editorCursor.foreground":"#383838","editor.lineHighlightBorder":"#383838","editorIndentGuide.background":"#E5E5E5","editorIndentGuide.activeBackground":"#383838"}}),e.editor.defineTheme("brutalist-dark",{base:"vs-dark",inherit:!0,rules:[{token:"keyword",foreground:"F8F8F7",fontStyle:"bold"},{token:"string",foreground:"53DBC9"},{token:"string.sql",foreground:"53DBC9"},{token:"string.quote",foreground:"53DBC9"},{token:"string.escape",foreground:"53DBC9",fontStyle:"italic"},{token:"comment",foreground:"999999"},{token:"number",foreground:"FF6B35",fontStyle:"bold"},{token:"operator",foreground:"F8F8F7",fontStyle:"bold"},{token:"identifier",foreground:"F8F8F7"},{token:"type",foreground:"6FC2FF",fontStyle:"bold"},{token:"key",foreground:"6FC2FF",fontStyle:"italic"}],colors:{"editor.background":"#2A2A2A","editor.foreground":"#F8F8F7","editor.lineHighlightBackground":"#1A1A1A","editorLineNumber.foreground":"#999999","editor.selectionBackground":"#F8F8F7","editor.selectionForeground":"#1A1A1A","editor.inactiveSelectionBackground":"#3A3A3A","editorCursor.foreground":"#F8F8F7","editor.lineHighlightBorder":"#F8F8F7","editorIndentGuide.background":"#3A3A3A","editorIndentGuide.activeBackground":"#F8F8F7"}}),e&&e.editor)try{const o="brutalist-light"===a?"brutalist-light":"brutalist-dark"===a?"brutalist-dark":a;e.editor.setTheme(o)}catch(o){}},onMount:(e,o)=>{d.current=e,m.current=o;const n="brutalist-light"===a?"brutalist-light":"brutalist-dark"===a?"brutalist-dark":a;o.editor.setTheme(n),e.focus(),e.onKeyDown(e=>{(e.ctrlKey||e.metaKey)&&e.keyCode===o.KeyCode.Enter&&(e.preventDefault(),e.stopPropagation(),v.current&&v.current())});const t=`execute-query-${Math.random().toString(36).substring(2,11)}`;e.addAction({id:t,label:"Execute Query",keybindings:[o.KeyMod.CtrlCmd|o.KeyCode.Enter],contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:()=>{v.current&&v.current()}}),e.updateOptions({minimap:{enabled:!1},fontSize:16,fontFamily:"'IBM Plex Mono', 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', monospace",fontWeight:"500",lineNumbers:"on",lineNumbersMinChars:3,lineHeight:26,roundedSelection:!1,scrollBeyondLastLine:!1,automaticLayout:!0,fixedOverflowWidgets:!0,scrollbar:{vertical:"auto",horizontal:"auto",verticalScrollbarSize:10,horizontalScrollbarSize:10,alwaysConsumeMouseWheel:!1},tabSize:2,wordWrap:"off",padding:{top:16,bottom:16},suggest:{showKeywords:!0,showSnippets:!0,showFunctions:!0,preview:!1},renderLineHighlight:"all",renderIndentGuides:!0,cursorStyle:"block",cursorBlinking:"solid",smoothScrolling:!1,hover:{enabled:!0,delay:300},quickSuggestions:{other:!0,comments:!1,strings:!1},parameterHints:{enabled:!0},suggestOnTriggerCharacters:!0,acceptSuggestionOnEnter:"on",wordBasedSuggestions:!1})},options:{readOnly:c,automaticLayout:!0}})})});v.displayName="CodeEditor";const y=v},73856:(e,o,n)=>{"use strict";n.d(o,{I:()=>s});var t=n(59729);function s(e,o={}){const[n,s]=(0,t.useState)({isExecuting:!1,result:null,error:null,executionTime:null}),[r,i]=(0,t.useState)([]),a=(0,t.useRef)(null),c=(0,t.useCallback)(async n=>{if(console.log("[useQuery] Executing query:",n),console.log("[useQuery] Client available:",!!e),!e){const e="No connection to ReifyDB server";return console.error("[useQuery] No client available:",e),o.onError?.(e),null}if(!n.trim()){const e="Query cannot be empty";return o.onError?.(e),null}a.current&&a.current.abort(),a.current=new AbortController,s({isExecuting:!0,result:null,error:null,executionTime:null});const t=Date.now();try{const r=await e.query(n,null,[]),a=Date.now()-t;let c;const l=r?.[0];if(Array.isArray(l)&&l.length>0){const e=l[0],o=Object.keys(e).map(o=>{const n=e[o];return{name:o,ty:n?.type||"Utf8",data:[]}});c={columns:o,rows:l,executionTimeMs:a}}else c={columns:[],rows:[],executionTimeMs:a};if(s({isExecuting:!1,result:c,error:null,executionTime:a}),!1!==o.addToHistory){const e={id:Date.now().toString(),query:n,timestamp:Date.now(),executionTimeMs:a,success:!0};i(o=>[e,...o].slice(0,100))}return o.onSuccess?.(c),c}catch(r){const e=Date.now()-t;let a="Query execution failed";if(r instanceof Error?a=r.message:"string"==typeof r?a=r:r&&"object"==typeof r&&"message"in r&&(a=r.message),s({isExecuting:!1,result:null,error:a,executionTime:e}),!1!==o.addToHistory){const o={id:Date.now().toString(),query:n,timestamp:Date.now(),executionTimeMs:e,success:!1,error:a};i(e=>[o,...e].slice(0,100))}return o.onError?.(a),null}finally{a.current=null}},[e,o]),l=(0,t.useCallback)(()=>{s({isExecuting:!1,result:null,error:null,executionTime:null})},[]),d=(0,t.useCallback)(()=>{i([])},[]),m=(0,t.useCallback)(()=>{a.current&&(a.current.abort(),s(e=>({...e,isExecuting:!1,error:"Query cancelled"})))},[]);return{isExecuting:n.isExecuting,result:n.result,error:n.error,executionTime:n.executionTime,history:r,executeQuery:c,clearResults:l,clearHistory:d,cancelQuery:m}}},97566:(e,o,n)=>{"use strict";n.d(o,{w:()=>c});var t=n(59729),s=n(73815),r=n(71090);class i{state={client:null,isConnected:!1,isConnecting:!1,connectionError:null,listeners:new Set};constructor(){}static getInstance(){return i.instance||(i.instance=new i),i.instance}async connect(e=r.R.getWebSocketUrl(),o){if(this.state.isConnected||this.state.isConnecting)console.log("[WsConnection] Already connected or connecting, skipping connection attempt");else{console.log("[WsConnection] Attempting to connect to:",e),this.updateState({isConnecting:!0,connectionError:null});try{const n=await s.Kj.connect_ws(e,{timeoutMs:1e3,...o});console.log("[WsConnection] Successfully connected to WebSocket"),this.updateState({client:n,isConnected:!0,isConnecting:!1,connectionError:null})}catch(n){const e=n instanceof Error?n.message:"Failed to connect to ReifyDB";throw console.error("[WsConnection] Connection failed:",e,n),this.updateState({client:null,isConnected:!1,isConnecting:!1,connectionError:e}),n}}}disconnect(){if(this.state.client)try{this.state.client.disconnect()}catch(e){console.error("Error disconnecting:",e)}this.updateState({client:null,isConnected:!1,isConnecting:!1,connectionError:null})}async reconnect(e,o){this.disconnect(),await this.connect(e,o)}getClient(){return this.state.client}isConnected(){return this.state.isConnected}isConnecting(){return this.state.isConnecting}getConnectionError(){return this.state.connectionError}getState(){const{listeners:e,...o}=this.state;return o}subscribe(e){return this.state.listeners.add(e),()=>{this.state.listeners.delete(e)}}updateState(e){this.state={...this.state,...e},this.state.listeners.forEach(e=>{e(this.state)})}}const a=i.getInstance();function c(){const[e,o]=(0,t.useState)(()=>a.getState());return(0,t.useEffect)(()=>{const e=a.subscribe(e=>{console.log("[useConnection] State update:",{isConnected:e.isConnected,isConnecting:e.isConnecting,connectionError:e.connectionError}),o({client:e.client,isConnected:e.isConnected,isConnecting:e.isConnecting,connectionError:e.connectionError})});return a.isConnected()||a.isConnecting()?console.log("[useConnection] Skipping auto-connect, current state:",{isConnected:a.isConnected(),isConnecting:a.isConnecting()}):(console.log("[useConnection] Initiating auto-connect..."),a.connect().catch(e=>{console.error("[useConnection] Failed to connect:",e)})),e},[]),{...e,connect:()=>a.connect(),disconnect:()=>a.disconnect(),reconnect:()=>a.reconnect()}}}}]);