"use strict";(self.webpackChunkreifydb_docs=self.webpackChunkreifydb_docs||[]).push([[6158],{6158:(e,t,o)=>{o.r(t),o.d(t,{default:()=>l});var r=o(9729),n=o(8655);const i="brutalistEditorContainer_zuLD";var d=o(5813);const u=(0,r.forwardRef)(({value:e,onChange:t,onExecute:o,language:u="sql",theme:l="brutalist-light",readOnly:a=!1},s)=>{const g=(0,r.useRef)(null),c=(0,r.useRef)(null),f=(0,r.useRef)(o);(0,r.useEffect)(()=>{f.current=o},[o]),(0,r.useEffect)(()=>{if(c.current&&l){const e="brutalist-light"===l?"brutalist-light":"brutalist-dark"===l?"brutalist-dark":l;c.current.editor.setTheme(e)}},[l]),(0,r.useImperativeHandle)(s,()=>({setValue:e=>{g.current&&g.current.setValue(e)},getValue:()=>g.current?.getValue()||"",focus:()=>{g.current?.focus()}}));return(0,d.jsx)("div",{className:i,onMouseEnter:()=>{g.current?.focus()},children:(0,d.jsx)(n.Ay,{height:"100%",language:u,theme:l,value:e,onChange:e=>t(e||""),beforeMount:e=>{if(e.editor.defineTheme("brutalist-light",{base:"vs",inherit:!0,rules:[{token:"keyword",foreground:"383838",fontStyle:"bold"},{token:"string.sql",foreground:"16A34A"},{token:"comment",foreground:"5A5A5A"},{token:"number",foreground:"B91C1C",fontStyle:"bold"},{token:"operator",foreground:"383838",fontStyle:"bold"},{token:"identifier",foreground:"1A1A1A"},{token:"type",foreground:"7C3AED",fontStyle:"bold"}],colors:{"editor.background":"#F8F8F7","editor.foreground":"#1A1A1A","editor.lineHighlightBackground":"#F4EFEA","editorLineNumber.foreground":"#5A5A5A","editor.selectionBackground":"#383838","editor.selectionForeground":"#FFFFFF","editor.inactiveSelectionBackground":"#E5E5E5","editorCursor.foreground":"#383838","editor.lineHighlightBorder":"#383838","editorIndentGuide.background":"#E5E5E5","editorIndentGuide.activeBackground":"#383838"}}),e.editor.defineTheme("brutalist-dark",{base:"vs-dark",inherit:!0,rules:[{token:"keyword",foreground:"F8F8F7",fontStyle:"bold"},{token:"string.sql",foreground:"53DBC9"},{token:"comment",foreground:"999999"},{token:"number",foreground:"FF6B35",fontStyle:"bold"},{token:"operator",foreground:"F8F8F7",fontStyle:"bold"},{token:"identifier",foreground:"F8F8F7"},{token:"type",foreground:"6FC2FF",fontStyle:"bold"}],colors:{"editor.background":"#2A2A2A","editor.foreground":"#F8F8F7","editor.lineHighlightBackground":"#1A1A1A","editorLineNumber.foreground":"#999999","editor.selectionBackground":"#F8F8F7","editor.selectionForeground":"#1A1A1A","editor.inactiveSelectionBackground":"#3A3A3A","editorCursor.foreground":"#F8F8F7","editor.lineHighlightBorder":"#F8F8F7","editorIndentGuide.background":"#3A3A3A","editorIndentGuide.activeBackground":"#F8F8F7"}}),e&&e.editor)try{const t="brutalist-light"===l?"brutalist-light":"brutalist-dark"===l?"brutalist-dark":l;e.editor.setTheme(t)}catch(t){}},onMount:(e,t)=>{g.current=e,c.current=t;const o="brutalist-light"===l?"brutalist-light":"brutalist-dark"===l?"brutalist-dark":l;t.editor.setTheme(o),e.focus(),t.languages.registerCompletionItemProvider("sql",{provideCompletionItems:(e,o)=>{const r=e.getWordUntilPosition(o),n={startLineNumber:o.lineNumber,endLineNumber:o.lineNumber,startColumn:r.startColumn,endColumn:r.endColumn};return{suggestions:[...["REIFY","FLOW","STREAM","MATERIALIZE"].map(e=>({label:e,kind:t.languages.CompletionItemKind.Keyword,insertText:e,documentation:`ReifyDB keyword: ${e}`,range:n})),...["SELECT","FROM","WHERE","INSERT","UPDATE","DELETE","CREATE","DROP","ALTER","TABLE","INDEX","VIEW","JOIN","LEFT","RIGHT","INNER","OUTER","ON","GROUP BY","ORDER BY","HAVING","LIMIT","OFFSET","AS","INTO","VALUES","SET"].map(e=>({label:e,kind:t.languages.CompletionItemKind.Keyword,insertText:e,range:n})),...["COUNT","SUM","AVG","MIN","MAX","NOW","CURRENT_TIMESTAMP"].map(e=>({label:e,kind:t.languages.CompletionItemKind.Function,insertText:`${e}()`,range:n}))]}}}),e.onKeyDown(e=>{(e.ctrlKey||e.metaKey)&&e.keyCode===t.KeyCode.Enter&&(e.preventDefault(),e.stopPropagation(),f.current&&f.current())});const r=`execute-query-${Math.random().toString(36).substring(2,11)}`;e.addAction({id:r,label:"Execute Query",keybindings:[t.KeyMod.CtrlCmd|t.KeyCode.Enter],contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:()=>{f.current&&f.current()}}),e.updateOptions({minimap:{enabled:!1},fontSize:16,fontFamily:"'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', monospace",fontWeight:"500",lineNumbers:"on",lineNumbersMinChars:3,lineHeight:26,roundedSelection:!1,scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,wordWrap:"off",padding:{top:16,bottom:16},suggest:{showKeywords:!0,showSnippets:!0,showFunctions:!0,preview:!1},renderLineHighlight:"all",renderIndentGuides:!0,cursorStyle:"block",cursorBlinking:"solid",smoothScrolling:!1,hover:{enabled:!0,delay:300},quickSuggestions:{other:!0,comments:!1,strings:!1},parameterHints:{enabled:!0},suggestOnTriggerCharacters:!0,acceptSuggestionOnEnter:"on",wordBasedSuggestions:!1})},options:{readOnly:a,automaticLayout:!0}})})});u.displayName="CodeEditor";const l=u}}]);